!function(){"use strict";var e,t,n;!function(e){e.STUB="stub",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error"}(e||(e={})),function(e){e.VISIBLE="visible",e.HIDDEN="hidden",e.DISABLED="disabled"}(t||(t={}));class i{constructor(e,t,n,i){this.eventName=e,this.listenerId=t,this.data=n,this.pingData=i}}class s{constructor(e){this.gppVersion=e.gppVersion,this.cmpStatus=e.cmpStatus,this.cmpDisplayStatus=e.cmpDisplayStatus,this.signalStatus=e.signalStatus,this.supportedAPIs=e.supportedAPIs,this.cmpId=e.cmpId,this.sectionList=e.gppModel.getSectionIds(),this.applicableSections=e.applicableSections,this.gppString=e.gppModel.encode(),this.parsedSections=e.gppModel.toObject()}}class o{constructor(e){this.eventQueue=new Map,this.queueNumber=1e3,this.cmpApiContext=e;try{let e=window.__gpp("events")||[];for(var t=0;t<e.length;t++){let n=e[t];this.eventQueue.set(n.id,{callback:n.callback,parameter:n.parameter})}}catch(e){console.log(e)}}add(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}get(e){return this.eventQueue.get(e)}remove(e){return this.eventQueue.delete(e)}exec(e,t){this.eventQueue.forEach(((n,o)=>{let r=new i(e,o,t,new s(this.cmpApiContext));n.callback(r,!0)}))}clear(){this.queueNumber=1e3,this.eventQueue.clear()}get size(){return this.eventQueue.size}events(){let e=[];return this.eventQueue.forEach(((t,n)=>{e.push({id:n,callback:t.callback,parameter:t.parameter})})),e}}class r extends Error{constructor(e){super(e),this.name="InvalidFieldError"}}class a{constructor(){this.encodedString=null,this.dirty=!1,this.decoded=!0,this.segments=this.initializeSegments()}hasField(e){this.decoded||(this.segments=this.decodeSection(this.encodedString),this.dirty=!1,this.decoded=!0);for(let t=0;t<this.segments.length;t++){let n=this.segments[t];if(n.getFieldNames().includes(e))return n.hasField(e)}return!1}getFieldValue(e){this.decoded||(this.segments=this.decodeSection(this.encodedString),this.dirty=!1,this.decoded=!0);for(let t=0;t<this.segments.length;t++){let n=this.segments[t];if(n.hasField(e))return n.getFieldValue(e)}throw new r("Invalid field: '"+e+"'")}setFieldValue(e,t){this.decoded||(this.segments=this.decodeSection(this.encodedString),this.dirty=!1,this.decoded=!0);for(let n=0;n<this.segments.length;n++){let i=this.segments[n];if(i.hasField(e))return void i.setFieldValue(e,t)}throw new r("Invalid field: '"+e+"'")}toObj(){let e={};for(let t=0;t<this.segments.length;t++){let n=this.segments[t].toObj();for(const[t,i]of Object.entries(n))e[t]=i}return e}encode(){return(null==this.encodedString||0===this.encodedString.length||this.dirty)&&(this.encodedString=this.encodeSection(this.segments),this.dirty=!1,this.decoded=!0),this.encodedString}decode(e){this.encodedString=e,this.dirty=!1,this.decoded=!1}}class c extends Error{constructor(e){super(e),this.name="DecodingError"}}class l extends Error{constructor(e){super(e),this.name="EncodingError"}}class d{static encode(e,t){let n=[];if(e>=1)for(n.push(1);e>=2*n[0];)n.unshift(2*n[0]);let i="";for(let t=0;t<n.length;t++){let s=n[t];e>=s?(i+="1",e-=s):i+="0"}if(i.length>t)throw new l("Numeric value '"+e+"' is too large for a bit string length of '"+t+"'");for(;i.length<t;)i="0"+i;return i}static decode(e){if(!/^[0-1]*$/.test(e))throw new c("Undecodable FixedInteger '"+e+"'");let t=0,n=[];for(let t=0;t<e.length;t++)n[e.length-(t+1)]=0===t?1:2*n[e.length-t];for(let i=0;i<e.length;i++)"1"===e.charAt(i)&&(t+=n[i]);return t}}class u{encode(e){if(!/^[0-1]*$/.test(e))throw new l("Unencodable Base64Url '"+e+"'");e=this.pad(e);let t="",n=0;for(;n<=e.length-6;){let i=e.substring(n,n+6);try{let e=d.decode(i);t+=u.DICT.charAt(e),n+=6}catch(t){throw new l("Unencodable Base64Url '"+e+"'")}}return t}decode(e){if(!/^[A-Za-z0-9\-_]*$/.test(e))throw new c("Undecodable Base64URL string '"+e+"'");let t="";for(let n=0;n<e.length;n++){let i=e.charAt(n),s=u.REVERSE_DICT.get(i);t+=d.encode(s,6)}return t}}u.DICT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",u.REVERSE_DICT=new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]);class g extends u{constructor(){super()}static getInstance(){return this.instance}pad(e){for(;e.length%8>0;)e+="0";for(;e.length%6>0;)e+="0";return e}}g.instance=new g;class p{constructor(){}static getInstance(){return this.instance}encode(e,t){let n="";for(let i=0;i<t.length;i++){let s=t[i];if(!e.containsKey(s))throw new Error("Field not found: '"+s+"'");n+=e.get(s).encode()}return n}decode(e,t,n){let i=0;for(let s=0;s<t.length;s++){let o=t[s];if(!n.containsKey(o))throw new Error("Field not found: '"+o+"'");{let t=n.get(o);try{let n=t.substring(e,i);t.decode(n),i+=n.length}catch(e){if("SubstringError"!==e.name||t.getHardFailIfMissing())throw new c("Unable to decode field '"+o+"'");return}}}}}p.instance=new p;class h{static encode(e){let t=[];if(e>=1&&(t.push(1),e>=2)){t.push(2);let n=2;for(;e>=t[n-1]+t[n-2];)t.push(t[n-1]+t[n-2]),n++}let n="1";for(let i=t.length-1;i>=0;i--){let s=t[i];e>=s?(n="1"+n,e-=s):n="0"+n}return n}static decode(e){if(!/^[0-1]*$/.test(e)||e.length<2||e.indexOf("11")!==e.length-2)throw new c("Undecodable FibonacciInteger '"+e+"'");let t=0,n=[];for(let t=0;t<e.length-1;t++)0===t?n.push(1):1===t?n.push(2):n.push(n[t-1]+n[t-2]);for(let i=0;i<e.length-1;i++)"1"===e.charAt(i)&&(t+=n[i]);return t}}class S{static encode(e){if(!0===e)return"1";if(!1===e)return"0";throw new l("Unencodable Boolean '"+e+"'")}static decode(e){if("1"===e)return!0;if("0"===e)return!1;throw new c("Undecodable Boolean '"+e+"'")}}class f{static encode(e){e=e.sort(((e,t)=>e-t));let t=[],n=0,i=0;for(;i<e.length;){let n=i;for(;n<e.length-1&&e[n]+1===e[n+1];)n++;t.push(e.slice(i,n+1)),i=n+1}let s=d.encode(t.length,12);for(let e=0;e<t.length;e++)if(1==t[e].length){let i=t[e][0]-n;n=t[e][0],s+="0"+h.encode(i)}else{let i=t[e][0]-n;n=t[e][0];let o=t[e][t[e].length-1]-n;n=t[e][t[e].length-1],s+="1"+h.encode(i)+h.encode(o)}return s}static decode(e){if(!/^[0-1]*$/.test(e)||e.length<12)throw new c("Undecodable FibonacciIntegerRange '"+e+"'");let t=[],n=d.decode(e.substring(0,12)),i=0,s=12;for(let o=0;o<n;o++){let n=S.decode(e.substring(s,s+1));if(s++,!0===n){let n=e.indexOf("11",s),o=h.decode(e.substring(s,n+2))+i;i=o,s=n+2,n=e.indexOf("11",s);let r=h.decode(e.substring(s,n+2))+i;i=r,s=n+2;for(let e=o;e<=r;e++)t.push(e)}else{let n=e.indexOf("11",s),o=h.decode(e.substring(s,n+2))+i;i=o,t.push(o),s=n+2}}return t}}class E extends Error{constructor(e){super(e),this.name="ValidationError"}}class C{constructor(e=!0){this.hardFailIfMissing=e}withValidator(e){return this.validator=e,this}hasValue(){return void 0!==this.value&&null!==this.value}getValue(){return this.value}setValue(e){if(this.validator&&!this.validator.test(e))throw new E("Invalid value '"+e+"'");this.value=e}getHardFailIfMissing(){return this.hardFailIfMissing}}class m extends c{constructor(e){super(e),this.name="SubstringError"}}class I{static substring(e,t,n){if(n>e.length||t<0||t>n)throw new m("Invalid substring indexes "+t+":"+n+" for string of length "+e.length);return e.substring(t,n)}}class T extends C{constructor(e,t=!0){super(t),this.setValue(e)}encode(){try{return f.encode(this.value)}catch(e){throw new l(e)}}decode(e){try{this.value=f.decode(e)}catch(e){throw new c(e)}}substring(e,t){try{let n=d.decode(I.substring(e,t,t+12)),i=t+12;for(let t=0;t<n;t++)i="1"===e.charAt(i)?e.indexOf("11",e.indexOf("11",i+1)+2)+2:e.indexOf("11",i+1)+2;return I.substring(e,t,i)}catch(e){throw new m(e)}}getValue(){return[...super.getValue()]}setValue(e){super.setValue(Array.from(new Set(e)).sort(((e,t)=>e-t)))}}class _ extends C{constructor(e,t,n=!0){super(n),this.bitStringLength=e,this.setValue(t)}encode(){try{return d.encode(this.value,this.bitStringLength)}catch(e){throw new l(e)}}decode(e){try{this.value=d.decode(e)}catch(e){throw new c(e)}}substring(e,t){try{return I.substring(e,t,t+this.bitStringLength)}catch(e){throw new m(e)}}}class O{constructor(){this.fields=new Map}containsKey(e){return this.fields.has(e)}put(e,t){this.fields.set(e,t)}get(e){return this.fields.get(e)}getAll(){return new Map(this.fields)}reset(e){this.fields.clear(),e.getAll().forEach(((e,t)=>{this.fields.set(t,e)}))}}!function(e){e.ID="Id",e.VERSION="Version",e.SECTION_IDS="SectionIds"}(n||(n={}));const b=[n.ID,n.VERSION,n.SECTION_IDS];class y{constructor(){this.encodedString=null,this.dirty=!1,this.decoded=!0,this.fields=this.initializeFields()}validate(){}hasField(e){return this.fields.containsKey(e)}getFieldValue(e){if(this.decoded||(this.decodeSegment(this.encodedString,this.fields),this.dirty=!1,this.decoded=!0),this.fields.containsKey(e))return this.fields.get(e).getValue();throw new r("Invalid field: '"+e+"'")}setFieldValue(e,t){if(this.decoded||(this.decodeSegment(this.encodedString,this.fields),this.dirty=!1,this.decoded=!0),!this.fields.containsKey(e))throw new r(e+" not found");this.fields.get(e).setValue(t),this.dirty=!0}toObj(){let e={},t=this.getFieldNames();for(let n=0;n<t.length;n++){let i=t[n],s=this.getFieldValue(i);e[i]=s}return e}encode(){return(null==this.encodedString||0===this.encodedString.length||this.dirty)&&(this.validate(),this.encodedString=this.encodeSegment(this.fields),this.dirty=!1,this.decoded=!0),this.encodedString}decode(e){this.encodedString=e,this.dirty=!1,this.decoded=!1}}class N extends y{constructor(e){super(),this.base64UrlEncoder=g.getInstance(),this.bitStringEncoder=p.getInstance(),e&&this.decode(e)}getFieldNames(){return b}initializeFields(){let e=new O;return e.put(n.ID.toString(),new _(6,w.ID)),e.put(n.VERSION.toString(),new _(6,w.VERSION)),e.put(n.SECTION_IDS.toString(),new T([])),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new c("Unable to decode HeaderV1CoreSegment '"+e+"'")}}}class w extends a{constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return w.ID}getName(){return w.NAME}getVersion(){return w.VERSION}initializeSegments(){let e=[];return e.push(new N),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");for(let e=0;e<t.length;e++)n.length>e&&t[e].decode(n[e])}return t}encodeSection(e){let t=[];for(let n=0;n<e.length;n++){let i=e[n];t.push(i.encode())}return t.join(".")}}var A;w.ID=3,w.VERSION=1,w.NAME="header",function(e){e.VERSION="Version",e.CREATED="Created",e.LAST_UPDATED="LastUpdated",e.CMP_ID="CmpId",e.CMP_VERSION="CmpVersion",e.CONSENT_SCREEN="ConsentScreen",e.CONSENT_LANGUAGE="ConsentLanguage",e.VENDOR_LIST_VERSION="VendorListVersion",e.POLICY_VERSION="PolicyVersion",e.IS_SERVICE_SPECIFIC="IsServiceSpecific",e.USE_NON_STANDARD_STACKS="UseNonStandardStacks",e.SPECIAL_FEATURE_OPTINS="SpecialFeatureOptins",e.PURPOSE_CONSENTS="PurposeConsents",e.PURPOSE_LEGITIMATE_INTERESTS="PurposeLegitimateInterests",e.PURPOSE_ONE_TREATMENT="PurposeOneTreatment",e.PUBLISHER_COUNTRY_CODE="PublisherCountryCode",e.VENDOR_CONSENTS="VendorConsents",e.VENDOR_LEGITIMATE_INTERESTS="VendorLegitimateInterests",e.PUBLISHER_RESTRICTIONS="PublisherRestrictions",e.PUBLISHER_PURPOSES_SEGMENT_TYPE="PublisherPurposesSegmentType",e.PUBLISHER_CONSENTS="PublisherConsents",e.PUBLISHER_LEGITIMATE_INTERESTS="PublisherLegitimateInterests",e.NUM_CUSTOM_PURPOSES="NumCustomPurposes",e.PUBLISHER_CUSTOM_CONSENTS="PublisherCustomConsents",e.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS="PublisherCustomLegitimateInterests",e.VENDORS_ALLOWED_SEGMENT_TYPE="VendorsAllowedSegmentType",e.VENDORS_ALLOWED="VendorsAllowed",e.VENDORS_DISCLOSED_SEGMENT_TYPE="VendorsDisclosedSegmentType",e.VENDORS_DISCLOSED="VendorsDisclosed"}(A||(A={}));const P=[A.VERSION,A.CREATED,A.LAST_UPDATED,A.CMP_ID,A.CMP_VERSION,A.CONSENT_SCREEN,A.CONSENT_LANGUAGE,A.VENDOR_LIST_VERSION,A.POLICY_VERSION,A.IS_SERVICE_SPECIFIC,A.USE_NON_STANDARD_STACKS,A.SPECIAL_FEATURE_OPTINS,A.PURPOSE_CONSENTS,A.PURPOSE_LEGITIMATE_INTERESTS,A.PURPOSE_ONE_TREATMENT,A.PUBLISHER_COUNTRY_CODE,A.VENDOR_CONSENTS,A.VENDOR_LEGITIMATE_INTERESTS,A.PUBLISHER_RESTRICTIONS],D=[A.PUBLISHER_PURPOSES_SEGMENT_TYPE,A.PUBLISHER_CONSENTS,A.PUBLISHER_LEGITIMATE_INTERESTS,A.NUM_CUSTOM_PURPOSES,A.PUBLISHER_CUSTOM_CONSENTS,A.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS],R=[A.VENDORS_ALLOWED_SEGMENT_TYPE,A.VENDORS_ALLOWED],V=[A.VENDORS_DISCLOSED_SEGMENT_TYPE,A.VENDORS_DISCLOSED];class v extends u{constructor(){super()}static getInstance(){return this.instance}pad(e){for(;e.length%24>0;)e+="0";return e}}v.instance=new v;class U{static encode(e){e.sort(((e,t)=>e-t));let t=[],n=0;for(;n<e.length;){let i=n;for(;i<e.length-1&&e[i]+1===e[i+1];)i++;t.push(e.slice(n,i+1)),n=i+1}let i=d.encode(t.length,12);for(let e=0;e<t.length;e++)1===t[e].length?i+="0"+d.encode(t[e][0],16):i+="1"+d.encode(t[e][0],16)+d.encode(t[e][t[e].length-1],16);return i}static decode(e){if(!/^[0-1]*$/.test(e)||e.length<12)throw new c("Undecodable FixedIntegerRange '"+e+"'");let t=[],n=d.decode(e.substring(0,12)),i=12;for(let s=0;s<n;s++){let n=S.decode(e.substring(i,i+1));if(i++,!0===n){let n=d.decode(e.substring(i,i+16));i+=16;let s=d.decode(e.substring(i,i+16));i+=16;for(let e=n;e<=s;e++)t.push(e)}else{let n=d.decode(e.substring(i,i+16));t.push(n),i+=16}}return t}}class L extends C{constructor(e,t=!0){super(t),this.setValue(e)}encode(){try{return U.encode(this.value)}catch(e){throw new l(e)}}decode(e){try{this.value=U.decode(e)}catch(e){throw new c(e)}}substring(e,t){try{let n=d.decode(I.substring(e,t,t+12)),i=t+12;for(let t=0;t<n;t++)"1"===e.charAt(i)?i+=33:i+=17;return I.substring(e,t,i)}catch(e){throw new m(e)}}getValue(){return[...super.getValue()]}setValue(e){super.setValue(Array.from(new Set(e)).sort(((e,t)=>e-t)))}}class k{constructor(e,t,n){this.key=e,this.type=t,this.ids=n}getKey(){return this.key}setKey(e){this.key=e}getType(){return this.type}setType(e){this.type=e}getIds(){return this.ids}setIds(e){this.ids=e}}class M extends C{constructor(e,t,n,i=!0){super(i),this.keyBitStringLength=e,this.typeBitStringLength=t,this.setValue(n)}encode(){try{let e=this.value,t="";t+=d.encode(e.length,12);for(let n=0;n<e.length;n++){let i=e[n];t+=d.encode(i.getKey(),this.keyBitStringLength),t+=d.encode(i.getType(),this.typeBitStringLength),t+=U.encode(i.getIds())}return t}catch(e){throw new l(e)}}decode(e){try{let t=[],n=d.decode(I.substring(e,0,12)),i=12;for(let s=0;s<n;s++){let n=d.decode(I.substring(e,i,i+this.keyBitStringLength));i+=this.keyBitStringLength;let s=d.decode(I.substring(e,i,i+this.typeBitStringLength));i+=this.typeBitStringLength;let o=new L([]).substring(e,i),r=U.decode(o);i+=o.length,t.push(new k(n,s,r))}this.value=t}catch(e){throw new c(e)}}substring(e,t){try{let n="";n+=I.substring(e,t,t+12);let i=d.decode(n.toString()),s=t+n.length;for(let t=0;t<i;t++){let t=I.substring(e,s,s+this.keyBitStringLength);s+=t.length,n+=t;let i=I.substring(e,s,s+this.typeBitStringLength);s+=i.length,n+=i;let o=new L([]).substring(e,s);s+=o.length,n+=o}return n}catch(e){throw new m(e)}}}class x extends C{constructor(e,t=!0){super(t),this.setValue(e)}encode(){try{return S.encode(this.value)}catch(e){throw new l(e)}}decode(e){try{this.value=S.decode(e)}catch(e){throw new c(e)}}substring(e,t){try{return I.substring(e,t,t+1)}catch(e){throw new m(e)}}}class G{static encode(e){return e?d.encode(Math.round(e.getTime()/100),36):d.encode(0,36)}static decode(e){if(!/^[0-1]*$/.test(e)||36!==e.length)throw new c("Undecodable Datetime '"+e+"'");return new Date(100*d.decode(e))}}class F extends C{constructor(e,t=!0){super(t),this.setValue(e)}encode(){try{return G.encode(this.value)}catch(e){throw new l(e)}}decode(e){try{this.value=G.decode(e)}catch(e){throw new c(e)}}substring(e,t){try{return I.substring(e,t,t+36)}catch(e){throw new m(e)}}}class B{static encode(e,t){if(e.length>t)throw new l("Too many values '"+e.length+"'");let n="";for(let t=0;t<e.length;t++)n+=S.encode(e[t]);for(;n.length<t;)n+="0";return n}static decode(e){if(!/^[0-1]*$/.test(e))throw new c("Undecodable FixedBitfield '"+e+"'");let t=[];for(let n=0;n<e.length;n++)t.push(S.decode(e.substring(n,n+1)));return t}}class z extends C{constructor(e,t=!0){super(t),this.numElements=e.length,this.setValue(e)}encode(){try{return B.encode(this.value,this.numElements)}catch(e){throw new l(e)}}decode(e){try{this.value=B.decode(e)}catch(e){throw new c(e)}}substring(e,t){try{return I.substring(e,t,t+this.numElements)}catch(e){throw new m(e)}}getValue(){return[...super.getValue()]}setValue(e){let t=[...e];for(let e=t.length;e<this.numElements;e++)t.push(!1);t.length>this.numElements&&(t=t.slice(0,this.numElements)),super.setValue(t)}}class W{static encode(e,t){for(;e.length<t;)e+=" ";let n="";for(let t=0;t<e.length;t++){let i=e.charCodeAt(t);if(32===i)n+=d.encode(63,6);else{if(!(i>=65))throw new l("Unencodable FixedString '"+e+"'");n+=d.encode(e.charCodeAt(t)-65,6)}}return n}static decode(e){if(!/^[0-1]*$/.test(e)||e.length%6!=0)throw new c("Undecodable FixedString '"+e+"'");let t="";for(let n=0;n<e.length;n+=6){let i=d.decode(e.substring(n,n+6));t+=63===i?" ":String.fromCharCode(i+65)}return t.trim()}}class H extends C{constructor(e,t,n=!0){super(n),this.stringLength=e,this.setValue(t)}encode(){try{return W.encode(this.value,this.stringLength)}catch(e){throw new l(e)}}decode(e){try{this.value=W.decode(e)}catch(e){throw new c(e)}}substring(e,t){try{return I.substring(e,t,t+6*this.stringLength)}catch(e){throw new m(e)}}}class j extends C{constructor(e,t=!0){super(t),this.setValue(e)}encode(){try{let e=this.value.length>0?this.value[this.value.length-1]:0,t=U.encode(this.value),n=t.length,i=e;if(n<=i)return d.encode(e,16)+"1"+t;{let t=[],n=0;for(let i=0;i<e;i++)i===this.value[n]-1?(t[i]=!0,n++):t[i]=!1;return d.encode(e,16)+"0"+B.encode(t,i)}}catch(e){throw new l(e)}}decode(e){try{if("1"===e.charAt(16))this.value=U.decode(e.substring(17));else{let t=[],n=B.decode(e.substring(17));for(let e=0;e<n.length;e++)!0===n[e]&&t.push(e+1);this.value=t}}catch(e){throw new c(e)}}substring(e,t){try{let n=d.decode(I.substring(e,t,t+16));return"1"===e.charAt(t+16)?I.substring(e,t,t+17)+new L([]).substring(e,t+17):I.substring(e,t,t+17+n)}catch(e){throw new m(e)}}getValue(){return[...super.getValue()]}setValue(e){super.setValue(Array.from(new Set(e)).sort(((e,t)=>e-t)))}}class q extends y{constructor(e){super(),this.base64UrlEncoder=v.getInstance(),this.bitStringEncoder=p.getInstance(),e&&this.decode(e)}getFieldNames(){return P}initializeFields(){let e=new Date,t=new O;return t.put(A.VERSION.toString(),new _(6,X.VERSION)),t.put(A.CREATED.toString(),new F(e)),t.put(A.LAST_UPDATED.toString(),new F(e)),t.put(A.CMP_ID.toString(),new _(12,0)),t.put(A.CMP_VERSION.toString(),new _(12,0)),t.put(A.CONSENT_SCREEN.toString(),new _(6,0)),t.put(A.CONSENT_LANGUAGE.toString(),new H(2,"EN")),t.put(A.VENDOR_LIST_VERSION.toString(),new _(12,0)),t.put(A.POLICY_VERSION.toString(),new _(6,2)),t.put(A.IS_SERVICE_SPECIFIC.toString(),new x(!1)),t.put(A.USE_NON_STANDARD_STACKS.toString(),new x(!1)),t.put(A.SPECIAL_FEATURE_OPTINS.toString(),new z([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.put(A.PURPOSE_CONSENTS.toString(),new z([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.put(A.PURPOSE_LEGITIMATE_INTERESTS.toString(),new z([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.put(A.PURPOSE_ONE_TREATMENT.toString(),new x(!1)),t.put(A.PUBLISHER_COUNTRY_CODE.toString(),new H(2,"AA")),t.put(A.VENDOR_CONSENTS.toString(),new j([])),t.put(A.VENDOR_LEGITIMATE_INTERESTS.toString(),new j([])),t.put(A.PUBLISHER_RESTRICTIONS.toString(),new M(6,2,[],!1)),t}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new c("Unable to decode TcfEuV2CoreSegment '"+e+"'")}}}class Y extends C{constructor(e,t,n=!0){super(n),this.getLength=e,this.setValue(t)}encode(){try{return B.encode(this.value,this.getLength())}catch(e){throw new l(e)}}decode(e){try{this.value=B.decode(e)}catch(e){throw new c(e)}}substring(e,t){try{return I.substring(e,t,t+this.getLength())}catch(e){throw new m(e)}}getValue(){return[...super.getValue()]}setValue(e){let t=this.getLength(),n=[...e];for(let e=n.length;e<t;e++)n.push(!1);n.length>t&&(n=n.slice(0,t)),super.setValue([...n])}}class Q extends y{constructor(e){super(),this.base64UrlEncoder=v.getInstance(),this.bitStringEncoder=p.getInstance(),e&&this.decode(e)}getFieldNames(){return D}initializeFields(){let e=new O;e.put(A.PUBLISHER_PURPOSES_SEGMENT_TYPE.toString(),new _(3,3)),e.put(A.PUBLISHER_CONSENTS.toString(),new z([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),e.put(A.PUBLISHER_LEGITIMATE_INTERESTS.toString(),new z([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));let t=new _(6,0);return e.put(A.NUM_CUSTOM_PURPOSES.toString(),t),e.put(A.PUBLISHER_CUSTOM_CONSENTS.toString(),new Y((()=>t.getValue()),[])),e.put(A.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS.toString(),new Y((()=>t.getValue()),[])),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new c("Unable to decode TcfEuV2PublisherPurposesSegment '"+e+"'")}}}class J extends y{constructor(e){super(),this.base64UrlEncoder=v.getInstance(),this.bitStringEncoder=p.getInstance(),e&&this.decode(e)}getFieldNames(){return R}initializeFields(){let e=new O;return e.put(A.VENDORS_ALLOWED_SEGMENT_TYPE.toString(),new _(3,2)),e.put(A.VENDORS_ALLOWED.toString(),new j([])),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new c("Unable to decode TcfEuV2VendorsAllowedSegment '"+e+"'")}}}class K extends y{constructor(e){super(),this.base64UrlEncoder=v.getInstance(),this.bitStringEncoder=p.getInstance(),e&&this.decode(e)}getFieldNames(){return V}initializeFields(){let e=new O;return e.put(A.VENDORS_DISCLOSED_SEGMENT_TYPE.toString(),new _(3,1)),e.put(A.VENDORS_DISCLOSED.toString(),new j([])),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new c("Unable to decode TcfEuV2VendorsDisclosedSegment '"+e+"'")}}}class X extends a{constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return X.ID}getName(){return X.NAME}getVersion(){return X.VERSION}initializeSegments(){let e=[];return e.push(new q),e.push(new Q),e.push(new J),e.push(new K),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");for(let e=0;e<n.length;e++){let i=n[e];if(0!==i.length){let s=i.charAt(0);if(s>="A"&&s<="H")t[0].decode(n[e]);else if(s>="I"&&s<="P")t[3].decode(n[e]);else if(s>="Q"&&s<="X")t[2].decode(n[e]);else{if(!(s>="Y"&&s<="Z"||s>="a"&&s<="f"))throw new c("Unable to decode TcfEuV2 segment '"+i+"'");t[1].decode(n[e])}}}}return t}encodeSection(e){let t=[];if(e.length>=1){t.push(e[0].encode()),this.getFieldValue(A.IS_SERVICE_SPECIFIC)?e.length>=2&&t.push(e[1].encode()):e.length>=2&&(t.push(e[2].encode()),e.length>=3&&t.push(e[3].encode()))}return t.join(".")}setFieldValue(e,t){if(e==A.PURPOSE_LEGITIMATE_INTERESTS&&(t[0]=t[2]=t[3]=t[4]=t[5]=!1),e==A.CREATED)super.setFieldValue(A.LAST_UPDATED,t);else if(e==A.LAST_UPDATED)super.setFieldValue(A.CREATED,t);else{const e=new Date;super.setFieldValue(A.CREATED,e),super.setFieldValue(A.LAST_UPDATED,e)}super.setFieldValue(e,t)}}var $;X.ID=2,X.VERSION=2,X.NAME="tcfeuv2",function(e){e.VERSION="Version",e.CREATED="Created",e.LAST_UPDATED="LastUpdated",e.CMP_ID="CmpId",e.CMP_VERSION="CmpVersion",e.CONSENT_SCREEN="ConsentScreen",e.CONSENT_LANGUAGE="ConsentLanguage",e.VENDOR_LIST_VERSION="VendorListVersion",e.TCF_POLICY_VERSION="TcfPolicyVersion",e.USE_NON_STANDARD_STACKS="UseNonStandardStacks",e.SPECIAL_FEATURE_EXPRESS_CONSENT="SpecialFeatureExpressConsent",e.PUB_PURPOSES_SEGMENT_TYPE="PubPurposesSegmentType",e.PURPOSES_EXPRESS_CONSENT="PurposesExpressConsent",e.PURPOSES_IMPLIED_CONSENT="PurposesImpliedConsent",e.VENDOR_EXPRESS_CONSENT="VendorExpressConsent",e.VENDOR_IMPLIED_CONSENT="VendorImpliedConsent",e.PUB_RESTRICTIONS="PubRestrictions",e.PUB_PURPOSES_EXPRESS_CONSENT="PubPurposesExpressConsent",e.PUB_PURPOSES_IMPLIED_CONSENT="PubPurposesImpliedConsent",e.NUM_CUSTOM_PURPOSES="NumCustomPurposes",e.CUSTOM_PURPOSES_EXPRESS_CONSENT="CustomPurposesExpressConsent",e.CUSTOM_PURPOSES_IMPLIED_CONSENT="CustomPurposesImpliedConsent",e.DISCLOSED_VENDORS_SEGMENT_TYPE="DisclosedVendorsSegmentType",e.DISCLOSED_VENDORS="DisclosedVendors"}($||($={}));const Z=[$.VERSION,$.CREATED,$.LAST_UPDATED,$.CMP_ID,$.CMP_VERSION,$.CONSENT_SCREEN,$.CONSENT_LANGUAGE,$.VENDOR_LIST_VERSION,$.TCF_POLICY_VERSION,$.USE_NON_STANDARD_STACKS,$.SPECIAL_FEATURE_EXPRESS_CONSENT,$.PURPOSES_EXPRESS_CONSENT,$.PURPOSES_IMPLIED_CONSENT,$.VENDOR_EXPRESS_CONSENT,$.VENDOR_IMPLIED_CONSENT,$.PUB_RESTRICTIONS],ee=[$.PUB_PURPOSES_SEGMENT_TYPE,$.PUB_PURPOSES_EXPRESS_CONSENT,$.PUB_PURPOSES_IMPLIED_CONSENT,$.NUM_CUSTOM_PURPOSES,$.CUSTOM_PURPOSES_EXPRESS_CONSENT,$.CUSTOM_PURPOSES_IMPLIED_CONSENT],te=[$.DISCLOSED_VENDORS_SEGMENT_TYPE,$.DISCLOSED_VENDORS];class ne extends y{constructor(e){super(),this.base64UrlEncoder=g.getInstance(),this.bitStringEncoder=p.getInstance(),e&&this.decode(e)}getFieldNames(){return Z}initializeFields(){let e=new Date,t=new O;return t.put($.VERSION.toString(),new _(6,oe.VERSION)),t.put($.CREATED.toString(),new F(e)),t.put($.LAST_UPDATED.toString(),new F(e)),t.put($.CMP_ID.toString(),new _(12,0)),t.put($.CMP_VERSION.toString(),new _(12,0)),t.put($.CONSENT_SCREEN.toString(),new _(6,0)),t.put($.CONSENT_LANGUAGE.toString(),new H(2,"EN")),t.put($.VENDOR_LIST_VERSION.toString(),new _(12,0)),t.put($.TCF_POLICY_VERSION.toString(),new _(6,2)),t.put($.USE_NON_STANDARD_STACKS.toString(),new x(!1)),t.put($.SPECIAL_FEATURE_EXPRESS_CONSENT.toString(),new z([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.put($.PURPOSES_EXPRESS_CONSENT.toString(),new z([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.put($.PURPOSES_IMPLIED_CONSENT.toString(),new z([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.put($.VENDOR_EXPRESS_CONSENT.toString(),new j([])),t.put($.VENDOR_IMPLIED_CONSENT.toString(),new j([])),t.put($.PUB_RESTRICTIONS.toString(),new M(6,2,[],!1)),t}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new c("Unable to decode TcfCaV1CoreSegment '"+e+"'")}}}class ie extends y{constructor(e){super(),this.base64UrlEncoder=g.getInstance(),this.bitStringEncoder=p.getInstance(),e&&this.decode(e)}getFieldNames(){return ee}initializeFields(){let e=new O;e.put($.PUB_PURPOSES_SEGMENT_TYPE.toString(),new _(3,3)),e.put($.PUB_PURPOSES_EXPRESS_CONSENT.toString(),new z([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),e.put($.PUB_PURPOSES_IMPLIED_CONSENT.toString(),new z([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));let t=new _(6,0);return e.put($.NUM_CUSTOM_PURPOSES.toString(),t),e.put($.CUSTOM_PURPOSES_EXPRESS_CONSENT.toString(),new Y((()=>t.getValue()),[])),e.put($.CUSTOM_PURPOSES_IMPLIED_CONSENT.toString(),new Y((()=>t.getValue()),[])),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new c("Unable to decode TcfCaV1PublisherPurposesSegment '"+e+"'")}}}class se extends y{constructor(e){super(),this.base64UrlEncoder=v.getInstance(),this.bitStringEncoder=p.getInstance(),e&&this.decode(e)}getFieldNames(){return te}initializeFields(){let e=new O;return e.put($.DISCLOSED_VENDORS_SEGMENT_TYPE.toString(),new _(3,1)),e.put($.DISCLOSED_VENDORS.toString(),new j([])),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new c("Unable to decode HeaderV1CoreSegment '"+e+"'")}}}class oe extends a{constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return oe.ID}getName(){return oe.NAME}getVersion(){return oe.VERSION}initializeSegments(){let e=[];return e.push(new ne),e.push(new ie),e.push(new se),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");for(let e=0;e<n.length;e++){let i=n[e];if(0!==i.length){let s=i.charAt(0);if(s>="A"&&s<="H")t[0].decode(n[e]);else if(s>="I"&&s<="P")t[2].decode(n[e]);else{if(!(s>="Y"&&s<="Z"||s>="a"&&s<="f"))throw new c("Unable to decode TcfCaV1 segment '"+i+"'");t[1].decode(n[e])}}}}return t}encodeSection(e){let t=[];return t.push(e[0].encode()),t.push(e[1].encode()),this.getFieldValue($.DISCLOSED_VENDORS).length>0&&t.push(e[2].encode()),t.join(".")}setFieldValue(e,t){if(super.setFieldValue(e,t),e!==$.CREATED&&e!==$.LAST_UPDATED){let e=new Date;super.setFieldValue($.CREATED,e),super.setFieldValue($.LAST_UPDATED,e)}}}oe.ID=5,oe.VERSION=1,oe.NAME="tcfcav1";class re{constructor(e,t){this.value=null,this.validator=t||new class{test(e){return!0}},this.setValue(e)}hasValue(){return null!=this.value}getValue(){return this.value}setValue(e){e?this.value=e.charAt(0):e=null}}class ae{constructor(e,t){this.value=null,this.validator=t||new class{test(e){return!0}},this.setValue(e)}hasValue(){return null!=this.value}getValue(){return this.value}setValue(e){this.value=e}}class ce{constructor(){this.fields=new Map}containsKey(e){return this.fields.has(e)}put(e,t){this.fields.set(e,t)}get(e){return this.fields.get(e)}getAll(){return new Map(this.fields)}reset(e){this.fields.clear(),e.getAll().forEach(((e,t)=>{this.fields.set(t,e)}))}}var le;!function(e){e.VERSION="Version",e.NOTICE="Notice",e.OPT_OUT_SALE="OptOutSale",e.LSPA_COVERED="LspaCovered"}(le||(le={}));const de=[le.VERSION,le.NOTICE,le.OPT_OUT_SALE,le.LSPA_COVERED];class ue extends y{constructor(e){super(),e&&this.decode(e)}getFieldNames(){return de}initializeFields(){const e=new class{test(e){return"-"===e||"Y"===e||"N"===e}};let t=new ce;return t.put(le.VERSION,new ae(ge.VERSION)),t.put(le.NOTICE,new re("-",e)),t.put(le.OPT_OUT_SALE,new re("-",e)),t.put(le.LSPA_COVERED,new re("-",e)),t}encodeSegment(e){let t="";return t+=e.get(le.VERSION).getValue(),t+=e.get(le.NOTICE).getValue(),t+=e.get(le.OPT_OUT_SALE).getValue(),t+=e.get(le.LSPA_COVERED).getValue(),t}decodeSegment(e,t){if(null==e||4!=e.length)throw new c("Unable to decode UspV1CoreSegment '"+e+"'");try{t.get(le.VERSION).setValue(parseInt(e.substring(0,1))),t.get(le.NOTICE).setValue(e.charAt(1)),t.get(le.OPT_OUT_SALE).setValue(e.charAt(2)),t.get(le.LSPA_COVERED).setValue(e.charAt(3))}catch(t){throw new c("Unable to decode UspV1CoreSegment '"+e+"'")}}}class ge extends a{constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return ge.ID}getName(){return ge.NAME}getVersion(){return ge.VERSION}initializeSegments(){let e=[];return e.push(new ue),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");for(let e=0;e<t.length;e++)n.length>e&&t[e].decode(n[e])}return t}encodeSection(e){let t=[];for(let n=0;n<e.length;n++){let i=e[n];t.push(i.encode())}return t.join(".")}}var pe;ge.ID=6,ge.VERSION=1,ge.NAME="uspv1",function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.SHARING_OPT_OUT_NOTICE="SharingOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE="SensitiveDataProcessingOptOutNotice",e.SENSITIVE_DATA_LIMIT_USE_NOTICE="SensitiveDataLimitUseNotice",e.SALE_OPT_OUT="SaleOptOut",e.SHARING_OPT_OUT="SharingOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.PERSONAL_DATA_CONSENTS="PersonalDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(pe||(pe={}));const he=[pe.VERSION,pe.SHARING_NOTICE,pe.SALE_OPT_OUT_NOTICE,pe.SHARING_OPT_OUT_NOTICE,pe.TARGETED_ADVERTISING_OPT_OUT_NOTICE,pe.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE,pe.SENSITIVE_DATA_LIMIT_USE_NOTICE,pe.SALE_OPT_OUT,pe.SHARING_OPT_OUT,pe.TARGETED_ADVERTISING_OPT_OUT,pe.SENSITIVE_DATA_PROCESSING,pe.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,pe.PERSONAL_DATA_CONSENTS,pe.MSPA_COVERED_TRANSACTION,pe.MSPA_OPT_OUT_OPTION_MODE,pe.MSPA_SERVICE_PROVIDER_MODE],Se=[pe.GPC_SEGMENT_TYPE,pe.GPC];class fe{static encode(e,t,n){if(e.length>n)throw new l("Too many values '"+e.length+"'");let i="";for(let n=0;n<e.length;n++)i+=d.encode(e[n],t);for(;i.length<t*n;)i+="0";return i}static decode(e,t,n){if(!/^[0-1]*$/.test(e))throw new c("Undecodable FixedInteger '"+e+"'");if(e.length>t*n)throw new c("Undecodable FixedIntegerList '"+e+"'");if(e.length%t!=0)throw new c("Undecodable FixedIntegerList '"+e+"'");for(;e.length<t*n;)e+="0";e.length>t*n&&(e=e.substring(0,t*n));let i=[];for(let n=0;n<e.length;n+=t)i.push(d.decode(e.substring(n,n+t)));for(;i.length<n;)i.push(0);return i}}class Ee extends C{constructor(e,t,n=!0){super(n),this.elementBitStringLength=e,this.numElements=t.length,this.setValue(t)}encode(){try{return fe.encode(this.value,this.elementBitStringLength,this.numElements)}catch(e){throw new l(e)}}decode(e){try{this.value=fe.decode(e,this.elementBitStringLength,this.numElements)}catch(e){throw new c(e)}}substring(e,t){try{return I.substring(e,t,t+this.elementBitStringLength*this.numElements)}catch(e){throw new m(e)}}getValue(){return[...super.getValue()]}setValue(e){let t=[...e];for(let e=t.length;e<this.numElements;e++)t.push(0);t.length>this.numElements&&(t=t.slice(0,this.numElements)),super.setValue(t)}}class Ce extends y{constructor(e){super(),this.base64UrlEncoder=g.getInstance(),this.bitStringEncoder=p.getInstance(),e&&this.decode(e)}getFieldNames(){return he}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new O;return i.put(pe.VERSION.toString(),new _(6,Ie.VERSION)),i.put(pe.SHARING_NOTICE.toString(),new _(2,0).withValidator(e)),i.put(pe.SALE_OPT_OUT_NOTICE.toString(),new _(2,0).withValidator(e)),i.put(pe.SHARING_OPT_OUT_NOTICE.toString(),new _(2,0).withValidator(e)),i.put(pe.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new _(2,0).withValidator(e)),i.put(pe.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),new _(2,0).withValidator(e)),i.put(pe.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),new _(2,0).withValidator(e)),i.put(pe.SALE_OPT_OUT.toString(),new _(2,0).withValidator(e)),i.put(pe.SHARING_OPT_OUT.toString(),new _(2,0).withValidator(e)),i.put(pe.TARGETED_ADVERTISING_OPT_OUT.toString(),new _(2,0).withValidator(e)),i.put(pe.SENSITIVE_DATA_PROCESSING.toString(),new Ee(2,[0,0,0,0,0,0,0,0,0,0,0,0]).withValidator(n)),i.put(pe.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new Ee(2,[0,0]).withValidator(n)),i.put(pe.PERSONAL_DATA_CONSENTS.toString(),new _(2,0).withValidator(e)),i.put(pe.MSPA_COVERED_TRANSACTION.toString(),new _(2,1).withValidator(t)),i.put(pe.MSPA_OPT_OUT_OPTION_MODE.toString(),new _(2,0).withValidator(e)),i.put(pe.MSPA_SERVICE_PROVIDER_MODE.toString(),new _(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new c("Unable to decode UsNatCoreSegment '"+e+"'")}}validate(){let e=this.fields.get(pe.SHARING_NOTICE).getValue(),t=this.fields.get(pe.SHARING_OPT_OUT_NOTICE).getValue(),n=this.fields.get(pe.SHARING_OPT_OUT).getValue(),i=this.fields.get(pe.SALE_OPT_OUT_NOTICE).getValue(),s=this.fields.get(pe.SALE_OPT_OUT).getValue(),o=this.fields.get(pe.TARGETED_ADVERTISING_OPT_OUT_NOTICE).getValue(),r=this.fields.get(pe.TARGETED_ADVERTISING_OPT_OUT).getValue(),a=this.fields.get(pe.MSPA_SERVICE_PROVIDER_MODE).getValue(),c=this.fields.get(pe.MSPA_OPT_OUT_OPTION_MODE).getValue(),l=this.fields.get(pe.SENSITIVE_DATA_LIMIT_USE_NOTICE).getValue();if(0==e){if(0!=n)throw new E("Invalid usnat sharing notice / opt out combination: {"+e+" / "+n+"}")}else if(1==e){if(1!=n&&2!=n)throw new E("Invalid usnat sharing notice / opt out combination: {"+e+" / "+n+"}")}else if(2==e&&1!=n)throw new E("Invalid usnat sharing notice / opt out combination: {"+e+" / "+n+"}");if(0==t){if(0!=n)throw new E("Invalid usnat sharing notice / opt out combination: {"+t+" / "+n+"}")}else if(1==t){if(1!=n&&2!=n)throw new E("Invalid usnat sharing notice / opt out combination: {"+t+" / "+n+"}")}else if(2==t&&1!=n)throw new E("Invalid usnat sharing notice / opt out combination: {"+t+" / "+n+"}");if(0==i){if(0!=s)throw new E("Invalid usnat sale notice / opt out combination: {"+i+" / "+s+"}")}else if(1==i){if(1!=s&&2!=s)throw new E("Invalid usnat sale notice / opt out combination: {"+i+" / "+s+"}")}else if(2==i&&1!=s)throw new E("Invalid usnat sale notice / opt out combination: {"+i+" / "+s+"}");if(0==o){if(0!=r)throw new E("Invalid usnat targeted advertising notice / opt out combination: {"+o+" / "+r+"}")}else if(1==o){if(1!=s&&2!=s)throw new E("Invalid usnat targeted advertising notice / opt out combination: {"+o+" / "+r+"}")}else if(2==o&&1!=s)throw new E("Invalid usnat targeted advertising notice / opt out combination: {"+o+" / "+r+"}");if(0==a){if(0!=i)throw new E("Invalid usnat mspa service provider mode / sale opt out notice combination: {"+a+" / "+i+"}");if(0!=t)throw new E("Invalid usnat mspa service provider mode / sharing opt out notice combination: {"+a+" / "+t+"}");if(0!=l)throw new E("Invalid usnat mspa service provider mode / sensitive data limit use notice combination: {"+a+" / "+l+"}")}else if(1==a){if(2!=c)throw new E("Invalid usnat mspa service provider / opt out option modes combination: {"+a+" / "+a+"}");if(0!=i)throw new E("Invalid usnat mspa service provider mode / sale opt out notice combination: {"+a+" / "+i+"}");if(0!=t)throw new E("Invalid usnat mspa service provider mode / sharing opt out notice combination: {"+a+" / "+t+"}");if(0!=l)throw new E("Invalid usnat mspa service provider mode / sensitive data limit use notice combination: {"+a+" / "+l+"}")}else if(2==a&&1!=c)throw new E("Invalid usnat mspa service provider / opt out option modes combination: {"+a+" / "+c+"}")}}class me extends y{constructor(e){super(),this.base64UrlEncoder=g.getInstance(),this.bitStringEncoder=p.getInstance(),e&&this.decode(e)}getFieldNames(){return Se}initializeFields(){let e=new O;return e.put(pe.GPC_SEGMENT_TYPE.toString(),new _(2,1)),e.put(pe.GPC_SEGMENT_INCLUDED.toString(),new x(!0)),e.put(pe.GPC.toString(),new x(!1)),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new c("Unable to decode UsNatGpcSegment '"+e+"'")}}}class Ie extends a{constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return Ie.ID}getName(){return Ie.NAME}getVersion(){return Ie.VERSION}initializeSegments(){let e=[];return e.push(new Ce),e.push(new me),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");n.length>0&&t[0].decode(n[0]),n.length>1?(t[1].setFieldValue(pe.GPC_SEGMENT_INCLUDED,!0),t[1].decode(n[1])):t[1].setFieldValue(pe.GPC_SEGMENT_INCLUDED,!1)}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),e.length>=2&&!0===e[1].getFieldValue(pe.GPC_SEGMENT_INCLUDED)&&t.push(e[1].encode())),t.join(".")}}Ie.ID=7,Ie.VERSION=1,Ie.NAME="usnat";class Te{}Te.SECTION_ID_NAME_MAP=new Map([[X.ID,X.NAME],[oe.ID,oe.NAME],[ge.ID,ge.NAME],[Ie.ID,Ie.NAME]]),Te.SECTION_ORDER=[X.NAME,oe.NAME,ge.NAME,Ie.NAME];class _e{constructor(e){this.sections=new Map,this.encodedString=null,this.decoded=!0,this.dirty=!1,e&&this.decode(e)}setFieldValue(e,t,n){this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0);let i=null;if(this.sections.has(e)?i=this.sections.get(e):e===oe.NAME?(i=new oe,this.sections.set(oe.NAME,i)):e===X.NAME?(i=new X,this.sections.set(X.NAME,i)):e===ge.NAME?(i=new ge,this.sections.set(ge.NAME,i)):e===Ie.NAME&&(i=new Ie,this.sections.set(Ie.NAME,i)),!i)throw new r(e+"."+t+" not found");i.setFieldValue(t,n),this.dirty=!0}setFieldValueBySectionId(e,t,n){this.setFieldValue(Te.SECTION_ID_NAME_MAP.get(e),t,n)}getFieldValue(e,t){return this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0),this.sections.has(e)?this.sections.get(e).getFieldValue(t):null}getFieldValueBySectionId(e,t){return this.getFieldValue(Te.SECTION_ID_NAME_MAP.get(e),t)}hasField(e,t){return this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0),!!this.sections.has(e)&&this.sections.get(e).hasField(t)}hasFieldBySectionId(e,t){return this.hasField(Te.SECTION_ID_NAME_MAP.get(e),t)}hasSection(e){return this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0),this.sections.has(e)}hasSectionId(e){return this.hasSection(Te.SECTION_ID_NAME_MAP.get(e))}deleteSection(e){!this.decoded&&null!=this.encodedString&&this.encodedString.length>0&&this.decode(this.encodedString),this.sections.delete(e),this.dirty=!0}deleteSectionById(e){this.deleteSection(Te.SECTION_ID_NAME_MAP.get(e))}clear(){this.sections.clear(),this.encodedString="DBAA",this.decoded=!1,this.dirty=!1}getHeader(){this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0);let e=new w;return e.setFieldValue("SectionIds",this.getSectionIds()),e.toObj()}getSection(e){return this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0),this.sections.has(e)?this.sections.get(e).toObj():null}getSectionIds(){this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0);let e=[];for(let t=0;t<Te.SECTION_ORDER.length;t++){let n=Te.SECTION_ORDER[t];if(this.sections.has(n)){let t=this.sections.get(n);e.push(t.getId())}}return e}encodeModel(e){let t=[],n=[];for(let i=0;i<Te.SECTION_ORDER.length;i++){let s=Te.SECTION_ORDER[i];if(e.has(s)){let i=e.get(s);t.push(i.encode()),n.push(i.getId())}}let i=new w;return i.setFieldValue("SectionIds",n),t.unshift(i.encode()),t.join("~")}decodeModel(e){if(!e||0==e.length||e.startsWith("DB")){let t=e.split("~"),n=new Map;if(t[0].startsWith("D")){let i=new w(t[0]).getFieldValue("SectionIds");if(i.length!==t.length-1)throw new c("Unable to decode '"+e+"'. The number of sections does not match the number of sections defined in the header.");for(let s=0;s<i.length;s++){if(""===t[s+1].trim())throw new c("Unable to decode '"+e+"'. Section "+(s+1)+" is blank.");if(i[s]===oe.ID){let e=new oe(t[s+1]);n.set(oe.NAME,e)}else if(i[s]===X.ID){let e=new X(t[s+1]);n.set(X.NAME,e)}else if(i[s]===ge.ID){let e=new ge(t[s+1]);n.set(ge.NAME,e)}else if(i[s]===Ie.ID){let e=new Ie(t[s+1]);n.set(Ie.NAME,e)}}}return n}if(e.startsWith("C")){let t=new Map,i=new X(e);return t.set(X.NAME,i),(new w).setFieldValue(n.SECTION_IDS,[2]),t.set(w.NAME,i),t}throw new c("Unable to decode '"+e+"'")}encodeSection(e){return this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0),this.sections.has(e)?this.sections.get(e).encode():null}encodeSectionById(e){return this.encodeSection(Te.SECTION_ID_NAME_MAP.get(e))}decodeSection(e,t){let n=null;this.sections.has(e)?n=this.sections.get(e):e===oe.NAME?(n=new oe,this.sections.set(oe.NAME,n)):e===X.NAME?(n=new X,this.sections.set(X.NAME,n)):e===ge.NAME?(n=new ge,this.sections.set(ge.NAME,n)):e===Ie.NAME&&(n=new Ie,this.sections.set(Ie.NAME,n)),n&&n.decode(t)}decodeSectionById(e,t){this.decodeSection(Te.SECTION_ID_NAME_MAP.get(e),t)}toObject(){this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0);let e={};for(let t=0;t<Te.SECTION_ORDER.length;t++){let n=Te.SECTION_ORDER[t];this.sections.has(n)&&(e[n]=this.sections.get(n).toObj())}return e}encode(){return(null==this.encodedString||0===this.encodedString.length||this.dirty)&&(this.encodedString=this.encodeModel(this.sections),this.dirty=!1,this.decoded=!0),this.encodedString}decode(e){this.encodedString=e,this.dirty=!1,this.decoded=!1}}var Oe,be,ye,Ne,we,Ae,Pe,De;!function(e){e.NOT_READY="not ready",e.READY="ready"}(Oe||(Oe={}));class Re{constructor(){this.gppVersion="1.1",this.supportedAPIs=[],this.eventQueue=new o(this),this.cmpStatus=e.LOADING,this.cmpDisplayStatus=t.HIDDEN,this.signalStatus=Oe.NOT_READY,this.applicableSections=[],this.gppModel=new _e}reset(){this.eventQueue.clear(),this.cmpStatus=e.LOADING,this.cmpDisplayStatus=t.HIDDEN,this.signalStatus=Oe.NOT_READY,this.applicableSections=[],this.supportedAPIs=[],this.gppModel=new _e,delete this.cmpId,delete this.cmpVersion,delete this.eventStatus}}!function(e){e.ADD_EVENT_LISTENER="addEventListener",e.GET_FIELD="getField",e.GET_SECTION="getSection",e.HAS_SECTION="hasSection",e.PING="ping",e.REMOVE_EVENT_LISTENER="removeEventListener"}(be||(be={}));class Ve{constructor(e,t,n){this.success=!0,this.cmpApiContext=e,Object.assign(this,{callback:t,parameter:n})}execute(){try{return this.respond()}catch(e){return this.invokeCallback(null),null}}invokeCallback(e){const t=null!==e;this.callback&&this.callback(e,t)}}class ve{}ye=be.ADD_EVENT_LISTENER,Ne=be.GET_FIELD,we=be.GET_SECTION,Ae=be.HAS_SECTION,Pe=be.PING,De=be.REMOVE_EVENT_LISTENER,ve[ye]=class extends Ve{respond(){let e=this.cmpApiContext.eventQueue.add({callback:this.callback,parameter:this.parameter}),t=new i("listenerRegistered",e,!0,new s(this.cmpApiContext));this.invokeCallback(t)}},ve[Ne]=class extends Ve{respond(){if(!this.parameter||0===this.parameter.length)throw new Error("<section>.<field> parameter required");let e=this.parameter.split(".");if(2!=e.length)throw new Error("Field name must be in the format <section>.<fieldName>");let t=e[0],n=e[1],i=null;"tcfeuv2"!=this.parameter&&(i=this.cmpApiContext.gppModel.getFieldValue(t,n)),this.invokeCallback(i)}},ve[we]=class extends Ve{respond(){if(!this.parameter||0===this.parameter.length)throw new Error("<section> parameter required");let e=null;"tcfeuv2"!=this.parameter&&this.cmpApiContext.gppModel.hasSection(this.parameter)&&(e=this.cmpApiContext.gppModel.getSection(this.parameter)),this.invokeCallback(e)}},ve[Ae]=class extends Ve{respond(){if(!this.parameter||0===this.parameter.length)throw new Error("<section>[.version] parameter required");let e=this.cmpApiContext.gppModel.hasSection(this.parameter);this.invokeCallback(e)}},ve[Pe]=class extends Ve{respond(){let e=new s(this.cmpApiContext);this.invokeCallback(e)}},ve[De]=class extends Ve{respond(){let e=this.parameter,t=this.cmpApiContext.eventQueue.remove(e),n=new i("listenerRemoved",e,t,new s(this.cmpApiContext));this.invokeCallback(n)}};class Ue{constructor(e,t){if(this.cmpApiContext=e,t){let e=be.ADD_EVENT_LISTENER;if(null==t?void 0:t[e])throw new Error(`Built-In Custom Commmand for ${e} not allowed`);if(e=be.REMOVE_EVENT_LISTENER,null==t?void 0:t[e])throw new Error(`Built-In Custom Commmand for ${e} not allowed`);this.customCommands=t}try{this.callQueue=window.__gpp()||[]}catch(e){this.callQueue=[]}finally{window.__gpp=this.apiCall.bind(this),this.purgeQueuedCalls()}}apiCall(e,t,n,i){if("string"!=typeof e)t(null,!1);else{if("events"===e)return this.cmpApiContext.eventQueue.events();if(t&&"function"!=typeof t)throw new Error("invalid callback function");this.isCustomCommand(e)?this.customCommands[e](t,n):this.isBuiltInCommand(e)?new ve[e](this.cmpApiContext,t,n).execute():t&&t(null,!1)}}purgeQueuedCalls(){const e=this.callQueue;this.callQueue=[],e.forEach((e=>{window.__gpp(...e)}))}isCustomCommand(e){return this.customCommands&&"function"==typeof this.customCommands[e]}isBuiltInCommand(e){return void 0!==ve[e]}}class Le{static absCall(e,t,n,i){return new Promise(((s,o)=>{const r=new XMLHttpRequest;r.withCredentials=n,r.addEventListener("load",(()=>{if(r.readyState==XMLHttpRequest.DONE)if(r.status>=200&&r.status<300){let e=r.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}s(e)}else o(new Error(`HTTP Status: ${r.status} response type: ${r.responseType}`))})),r.addEventListener("error",(()=>{o(new Error("error"))})),r.addEventListener("abort",(()=>{o(new Error("aborted"))})),null===t?r.open("GET",e,!0):r.open("POST",e,!0),r.responseType="json",r.timeout=i,r.ontimeout=()=>{o(new Error("Timeout "+i+"ms "+e))},r.send(t)}))}static post(e,t,n=!1,i=0){return this.absCall(e,JSON.stringify(t),n,i)}static fetch(e,t=!1,n=0){return this.absCall(e,null,t,n)}}class ke extends Error{constructor(e){super(e),this.name="GVLError"}}class Me{has(e){return Me.langSet.has(e)}forEach(e){Me.langSet.forEach(e)}get size(){return Me.langSet.size}}Me.langSet=new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]);var xe=window&&window.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}c((i=i.apply(e,t||[])).next())}))};class Ge{constructor(){this.consentLanguages=new Me,this.language=Ge.DEFAULT_LANGUAGE,this.ready=!1,this.languageFilename="purposes-[LANG].json"}static fromVendorList(e){let t=new Ge;return t.populate(e),t}static fromUrl(e){return xe(this,void 0,void 0,(function*(){let t=e.baseUrl;if(!t||0===t.length)throw new ke("Invalid baseUrl: '"+t+"'");if(/^https?:\/\/vendorlist\.consensu\.org\//.test(t))throw new ke("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");t.length>0&&"/"!==t[t.length-1]&&(t+="/");let n=new Ge;if(n.baseUrl=t,e.languageFilename?n.languageFilename=e.languageFilename:n.languageFilename="purposes-[LANG].json",e.version>0){let i=e.versionedFilename;i||(i="archives/vendor-list-v[VERSION].json");let s=t+i.replace("[VERSION]",String(e.version));n.populate(yield Le.fetch(s))}else{let i=e.latestFilename;i||(i="vendor-list.json");let s=t+i;n.populate(yield Le.fetch(s))}return n}))}changeLanguage(e){return xe(this,void 0,void 0,(function*(){const t=e.toUpperCase();if(!this.consentLanguages.has(t))throw new ke(`unsupported language ${e}`);if(t!==this.language){this.language=t;const n=this.baseUrl+this.languageFilename.replace("[LANG]",e);try{this.populate(yield Le.fetch(n))}catch(e){throw new ke("unable to load language: "+e.message)}}}))}getJson(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,dataCategories:this.dataCategories,vendors:this.fullVendorList}))}isVendorList(e){return void 0!==e&&void 0!==e.vendors}populate(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.dataCategories=e.dataCategories,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.ready=!0)}mapVendors(e){this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach((e=>{this.byPurposeVendorMap[e]={legInt:new Set,impCons:new Set,consent:new Set,flexible:new Set}})),Object.keys(this.specialPurposes).forEach((e=>{this.bySpecialPurposeVendorMap[e]=new Set})),Object.keys(this.features).forEach((e=>{this.byFeatureVendorMap[e]=new Set})),Object.keys(this.specialFeatures).forEach((e=>{this.bySpecialFeatureVendorMap[e]=new Set})),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map((e=>+e))),this.vendorIds=new Set(e),this.vendors=e.reduce(((e,t)=>{const n=this.vendors[String(t)];return n&&void 0===n.deletedDate&&(n.purposes.forEach((e=>{this.byPurposeVendorMap[String(e)].consent.add(t)})),n.specialPurposes.forEach((e=>{this.bySpecialPurposeVendorMap[String(e)].add(t)})),n.legIntPurposes&&n.legIntPurposes.forEach((e=>{this.byPurposeVendorMap[String(e)].legInt.add(t)})),n.impConsPurposes&&n.impConsPurposes.forEach((e=>{this.byPurposeVendorMap[String(e)].impCons.add(t)})),n.flexiblePurposes&&n.flexiblePurposes.forEach((e=>{this.byPurposeVendorMap[String(e)].flexible.add(t)})),n.features.forEach((e=>{this.byFeatureVendorMap[String(e)].add(t)})),n.specialFeatures.forEach((e=>{this.bySpecialFeatureVendorMap[String(e)].add(t)})),e[t]=n),e}),{})}getFilteredVendors(e,t,n,i){const s=e.charAt(0).toUpperCase()+e.slice(1);let o;const r={};return o="purpose"===e&&n?this["by"+s+"VendorMap"][String(t)][n]:this["by"+(i?"Special":"")+s+"VendorMap"][String(t)],o.forEach((e=>{r[String(e)]=this.vendors[String(e)]})),r}getVendorsWithConsentPurpose(e){return this.getFilteredVendors("purpose",e,"consent")}getVendorsWithLegIntPurpose(e){return this.getFilteredVendors("purpose",e,"legInt")}getVendorsWithFlexiblePurpose(e){return this.getFilteredVendors("purpose",e,"flexible")}getVendorsWithSpecialPurpose(e){return this.getFilteredVendors("purpose",e,void 0,!0)}getVendorsWithFeature(e){return this.getFilteredVendors("feature",e)}getVendorsWithSpecialFeature(e){return this.getFilteredVendors("feature",e,void 0,!0)}narrowVendorsTo(e){this.mapVendors(e)}get isReady(){return this.ready}static isInstanceOf(e){return"object"==typeof e&&"function"==typeof e.narrowVendorsTo}}Ge.DEFAULT_LANGUAGE="EN";var Fe=window&&window.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}c((i=i.apply(e,t||[])).next())}))};class Be{constructor(e,t,n){this.cmpApiContext=new Re,this.cmpApiContext.cmpId=e,this.cmpApiContext.cmpVersion=t,this.callResponder=new Ue(this.cmpApiContext,n)}fireEvent(e,t){this.cmpApiContext.eventQueue.exec(e,t)}fireErrorEvent(e){this.cmpApiContext.eventQueue.exec("error",e)}fireSectionChange(e){this.cmpApiContext.eventQueue.exec("sectionChange",e)}getEventStatus(){return this.cmpApiContext.eventStatus}setEventStatus(e){this.cmpApiContext.eventStatus=e}getCmpStatus(){return this.cmpApiContext.cmpStatus}setCmpStatus(e){this.cmpApiContext.cmpStatus=e,this.cmpApiContext.eventQueue.exec("cmpStatus",e)}getCmpDisplayStatus(){return this.cmpApiContext.cmpDisplayStatus}setCmpDisplayStatus(e){this.cmpApiContext.cmpDisplayStatus=e,this.cmpApiContext.eventQueue.exec("cmpDisplayStatus",e)}getSignalStatus(){return this.cmpApiContext.signalStatus}setSignalStatus(e){this.cmpApiContext.signalStatus=e,this.cmpApiContext.eventQueue.exec("signalStatus",e)}getApplicableSections(){return this.cmpApiContext.applicableSections}setApplicableSections(e){this.cmpApiContext.applicableSections=e}getSupportedAPIs(){return this.cmpApiContext.supportedAPIs}setSupportedAPIs(e){this.cmpApiContext.supportedAPIs=e}setGppString(e){this.cmpApiContext.gppModel.decode(e)}getGppString(){return this.cmpApiContext.gppModel.encode()}setSectionString(e,t){this.cmpApiContext.gppModel.decodeSection(e,t)}setSectionStringById(e,t){this.setSectionString(Te.SECTION_ID_NAME_MAP.get(e),t)}getSectionString(e){return this.cmpApiContext.gppModel.encodeSection(e)}getSectionStringById(e){return this.getSectionString(Te.SECTION_ID_NAME_MAP.get(e))}setFieldValue(e,t,n){this.cmpApiContext.gppModel.setFieldValue(e,t,n)}setFieldValueBySectionId(e,t,n){this.setFieldValue(Te.SECTION_ID_NAME_MAP.get(e),t,n)}getFieldValue(e,t){return this.cmpApiContext.gppModel.getFieldValue(e,t)}getFieldValueBySectionId(e,t){return this.getFieldValue(Te.SECTION_ID_NAME_MAP.get(e),t)}getSection(e){return this.cmpApiContext.gppModel.getSection(e)}getSectionById(e){return this.getSection(Te.SECTION_ID_NAME_MAP.get(e))}hasSection(e){return this.cmpApiContext.gppModel.hasSection(e)}hasSectionId(e){return this.hasSection(Te.SECTION_ID_NAME_MAP.get(e))}deleteSection(e){this.cmpApiContext.gppModel.deleteSection(e)}deleteSectionById(e){this.deleteSection(Te.SECTION_ID_NAME_MAP.get(e))}clear(){this.cmpApiContext.gppModel.clear()}getObject(){return this.cmpApiContext.gppModel.toObject()}getGvlFromVendorList(e){return Ge.fromVendorList(e)}getGvlFromUrl(e){return Fe(this,void 0,void 0,(function*(){return Ge.fromUrl(e)}))}}window.WBD=window.WBD||{},window.WM=window.WM||{},function(e,t){if("function"!=typeof e.CustomEvent){var n=function(e,n){var i;return n=n||{bubbles:!1,cancelable:!1,detail:void 0},(i=t.createEvent("CustomEvent")).initCustomEvent(e,n.bubbles,n.cancelable,n.detail),i};n.prototype=e.Event.prototype,e.CustomEvent=n,"function"!==e.Event&&(e.Event=n)}}(window,document),window.WBD.UserConsent=window.WBD.UserConsent||function(e,t){var n,i="",s="",o=null,r="",a=0,c={},l={},d=!1,u=[],g="",p=0,h="",S=null,f=null,E="unknown",C={},m=!1,I={},T="",_="",O="",b="",y={tcfeuv2:2,tcfcav1:5,uspv1:6,usnat:7},N=null,w=1,A="",P="",D=null,R=!1,V=!1,v=!1,U=!1,L=!1,k="en",M={binary:!0,boolean:!0,trinary:!0,integer:!0,string:!0},x="",G="",F=!1,B="4.1.38",z=null,W=!1,H=!1,j=null,q=!1,Y=!1,Q=!1,J=!1,K=!1,X=null,$="",Z={aceMapping:{analytics:["P"],personalization:["P","S","T"],ads:["F","S","T"]},addtlConsentCookie:"OTAdditionalConsentString",adCategories:["ads"],contextAdCategories:["ads"],adChoicesLinkAction:"https://www.wbdprivacy.com/policycenter/b2c/",adChoicesLinkTitle:{ar:" ",de:"Anzeigenauswahl",en:"Ad Choices",es:"Elecciones de anuncios",fr:"Choix dannonces"},affiliatesLinkAction:"https://www.wbdprivacy.com/policycenter/affiliates/",affiliatesLinkTitle:{ar:" ",en:"Affiliates",de:"Mitgliedsorganisationen",es:"Afiliadas",fr:"Affilies"},categories:{c0001:"required",c0002:"analytics",c0003:"personalization",c0004:"ads",c0005:"social"},ccCookie:"countryCode",ccpaGeos:["US:CA","US:CO","US:CT","US:DE","US:IA","US:MD","US:MN","US:MT","US:NE","US:NH","US:NJ","US:OR","US:RI","US:TN","US:TX","US:UT","US:VA"],compatCategories:{vendor:["ads"],targeting:["ads"]},confirmCookie:"OptanonAlertBoxClosed",consentChangeAction:null,consentChangeActionDelay:500,consentCookie:"OptanonConsent",consentDefaults:{required:!0,analytics:!0,personalization:!0,ads:!0,social:!0},consentExpireIn:1,consentLinkTitle:{ar:"  ",de:"Cookie-Einstellungen",en:"Cookie Settings",es:"Configuracin de Cookies",fr:"Paramtres des Cookies"},consentNotApplicable:[],controlCookie:"OptanonControl",cookieSameSite:"Lax",cookieSecure:!1,enableDebug:!1,enableGPC:!0,enableTransitionCheck:!0,enableWebViewCheck:!0,defaultCountry:"US",defaultLanguage:"en",defaultState:"",gdprIabCookie:"eupubconsent-v2",geoCheckFunction:null,geoPassedToOneTrust:!0,gpcFixCookie:"",gppCategories:{usnat:[{field:"SharingNotice",type:"trinary",default:1},{field:"SaleOptOutNotice",type:"trinary",default:1},{field:"SharingOptOutNotice",type:"trinary",default:1},{field:"TargetedAdvertisingOptOutNotice",type:"trinary",default:1},{field:"SensitiveDataProcessingOptOutNotice",type:"trinary",default:0},{field:"SensitiveDataLimitUseNotice",type:"trinary",default:0},{field:"SharingOptOut",type:"trinary",val:"ads"},{field:"SaleOptOut",type:"trinary",val:"ads"},{field:"TargetedAdvertisingOptOut",type:"trinary",val:"ads"},{field:"PersonalDataConsents",type:"trinary",default:0},{field:"MspaCoveredTransaction",type:"trinary",default:1},{field:"MspaOptOutOptionMode",type:"trinary",default:1},{field:"MspaServiceProviderMode",type:"trinary",default:2}],uspv1:[{field:"OptOutSale",type:"binary",val:"ads"}]},gppIabCookie:"OTGPPConsent",gppSection:"",iabRegion:"",languageFromBrowser:!0,oneTrustLoadTimeout:15e3,privacyCenterLinkAction:"https://www.wbdprivacy.com/policycenter/b2c/",privacyCenterLinkTitle:{ar:"  ",de:"Datenschutzhinweise",en:"Privacy Policy",es:"Poltica de Privacidad",fr:"Politique de Confidentialit"},regionChangeAction:null,regions:[{id:"us",consentExpireIn:3,consentGpcDefaults:{ads:!1},consentImpliedDefaults:{required:!0,analytics:!0,personalization:!0,social:!0},consentLinkTitle:{ar:"     ",de:"Nicht Verkauf oder Nicht Weitergabe Ihrer personenbezogenen Daten zu stellen",en:"Do Not Sell Or Share My Personal Information",es:"No Venda Vi Comparta Mi Informacin Personal",fr:"Ne pas vendre ni partager mes informations personnelles"},rightsRequestLinkAction:"https://www.wbdprivacy.com/policycenter/usstatesupplement/en-us/",geoMatch:["US:CA","US:CO","US:CT","US:DE","US:IA","US:MD","US:MN","US:MT","US:NE","US:NH","US:NJ","US:OR","US:RI","US:TN","US:TX","US:UT","US:VA"],gppSection:"usnat",iabRegion:"ccpa"},{id:"gdpr",consentDefaults:{analytics:!1,personalization:!1,ads:!1,social:!1},consentImpliedDefaults:{required:!0},consentLinkTitle:{ar:"   +",de:"Cookies Verwalten+",en:"Manage Cookies+",es:"Administrar cookies+",fr:"Grer les Cookies+"},geoMatch:["GB","DE","FR","IT","ES","PL","RO","NL","BE","GR","CZ","PT","SE","HU","AT","BG","DK","FI","SK","IE","HR","LT","SI","LV","EE","CY","LU","MT","NO","IS","LI","CH"],iabRegion:"gdpr",useIabString:!1},{id:"global",geoMatch:["*"],useFixedConsent:!0}],reloadOnConsentChange:!0,reloadOnConsentReduction:!1,rightsRequestLinkAction:"https://www.wbdprivacy.com/policycenter/b2c/",rightsRequestLinkTitle:{ar:"   ",de:"Anfrageportal fr Individualrechte",en:"Individual Rights Request Portal",es:"Portal de solicitud de derechos individuales",fr:"Portail de demande de droits des individus"},scCookie:"stateCode",setPageClass:!1,src:"https://cdn.cookielaw.org/scripttemplates/otSDKStub.js",strictIabCompliance:!1,tcfOpts:{categories:{purposes:["ads","ads","ads","ads","personalization","personalization","ads","personalization","ads","ads","unused"],specialPurposes:["required","required","required"],features:["ads","ads","ads"],specialFeatures:["unused","unused"]},policies:{2:{iabMaxPurposes:10,iabMaxSpecialFeats:2},3:{iabMaxPurposes:10,iabMaxSpecialFeats:2},4:{iabMaxPurposes:11,iabMaxSpecialFeats:2},5:{iabMaxPurposes:11,iabMaxSpecialFeats:2}}},ucFlavor:"disco",useFixedConsent:!1,useGPP:!0,useIAB:!0,useIabString:!0,uspApiCookieName:"usprivacy",uspApiExplicitNotice:!0,uspApiIsLspa:!1};function ee(e){const t=Array.prototype.slice.call(arguments);t[0]="[WMUC]"+(0===T.length?"":" ("+T+")")+":","error"===e?console.error.apply(console,t):console.log.apply(console,t)}function te(e){const n=t.cookie.match(new RegExp("(^|;) *"+e+" *= *([^;]+)"));return n?n.pop():null}function ne(e,n,i){e&&(i=i||{},t.cookie=e+"="+("string"==typeof n?n:"")+"; Domain="+(i.domain||l.cookieDomain)+"; Path="+(i.path||"/")+(i.maxage?"; Max-Age="+i.maxage:i.expires?"; Expires="+i.expires:"")+(i.secure?"; Secure":"")+(i.samesite?"; SameSite="+i.samesite:""))}function ie(t){if("function"==typeof e.atob)try{return atob(t.replace(/_/g,"/").replace(/-/g,"+"))}catch(e){ee("error","Failed to decode TC string")}return""}function se(e){return!!Number(e)}function oe(e){return parseInt(e,2)||0}function re(e){return 100*oe(e)}function ae(e){const t="A".charCodeAt(),n=e.match(/.{6}/g)||[];let i="";for(let e=0;e<n.length;e++)i+=String.fromCharCode(oe(n[e])+t);return i}function ce(e){const t=e.split("");let n={};for(let e=0;e<t.length;e++)se(t[e])&&(n[e+1]=!0);return n}function le(e){let t=0,n={},i=function(e,t,n,i){let s=()=>{if(i.pubRestrictionEntry&&i.rangeEntry)for(let e in i.rangeEntry)Object.prototype.hasOwnProperty.call(i.rangeEntry,e)&&(i.pubRestrictionEntry[e]=(i.pubRestrictionEntry[e]||[]).concat(i.rangeEntry[e]));i.numPubRestrictions&&(i.numPubRestrictions--,e.push({key:"purposeId",size:6},{key:"restrictionType",size:2},{key:"numEntries",size:12}))},o=()=>{i.numEntries?(i.numEntries--,e.push({key:"isARange",size:1,decoder:se},{key:"startVendorId",size:16})):s()},r=()=>!i.purposeId||[{purpose:i.purposeId,isAllowed:0!==i.restrictionType,isConsentRequired:1===i.restrictionType,isLegitimateInterestRequired:2===i.restrictionType}];if("isRangeEncoding"===t.key)e.push(n?{key:"numEntries",size:12}:{key:"bitField",size:i.maxVendorId,decoder:ce});else if("numEntries"===t.key)i.rangeEntry={},o();else if("isARange"===t.key)n&&e.push({key:"endVendorId",size:16});else if("startVendorId"===t.key)i.isARange||(i.rangeEntry[n]=r(),o());else if("endVendorId"===t.key){for(let e=i.startVendorId;e<=i.endVendorId;e+=1)i.rangeEntry[e]=r();o()}else"numCustomPurposes"===t.key?e.push({key:"customPurposeConsents",size:i.numCustomPurposes,decoder:ce},{key:"customPurposeLegitimateInterests",size:i.numCustomPurposes,decoder:ce}):"numPubRestrictions"===t.key&&(i.pubRestrictionEntry={},s())},s=e=>e.pubRestrictionEntry||e.rangeEntry||e.bitField||e,o=(e,n)=>{const i=n.slice(t,t+e.size);return t+=e.size,(e.decoder||oe)(i)},r=(e,t)=>{let n={};if(!e.queue)return o(e,t);for(let s=0;s<e.queue.length;s+=1){let r=e.queue[s],a=o(r,t);r.key&&(n[r.key]=a),i(e.queue,r,a,n)}return s(n)},a=(e,t)=>{let n={};for(let s=0;s<e.queue.length;s++){let o=e.queue[s],a=r(o,t);o.key&&(n[o.key]=a),i(e.queue,o,a,n)}return s(n)};const c=function(e){let t,n=[];if("string"!=typeof e)return ee("error","Invalid TC string specified"),n;t=e.split(".");for(let e=0;e<t.length;e++){let i=ie(t[e]),s="";for(let e=0;e<i.length;e++){let t=i.charCodeAt(e).toString(2);s+="00000000".slice(0,8-t.length)+t}n.push(s)}return 2!==oe(n[0].slice(0,6))?(ee("error","Unsupported TC string version"),[]):n}(e),l=function(e){const t=[{key:"purposeConsents",size:24,decoder:ce},{key:"purposeLegitimateInterests",size:24,decoder:ce}],n=[{key:"maxVendorId",size:16},{key:"isRangeEncoding",size:1,decoder:se}],i=[{key:"version",size:6},{key:"created",size:36,decoder:re},{key:"lastUpdated",size:36,decoder:re},{key:"cmpId",size:12},{key:"cmpVersion",size:12},{key:"consentScreen",size:6},{key:"consentLanguage",size:12,decoder:ae},{key:"vendorListVersion",size:12},{key:"tcfPolicyVersion",size:6},{key:"isServiceSpecific",size:1,decoder:se},{key:"useNonStandardStacks",size:1,decoder:se},{key:"specialFeatureOptins",size:12,decoder:ce}].concat(t).concat({key:"purposeOneTreatment",size:1,decoder:se},{key:"publisherCountryCode",size:12,decoder:ae},{key:"vendorConsents",queue:[{key:"maxVendorId",size:16},{key:"isRangeEncoding",size:1,decoder:se}]},{key:"vendorLegitimateInterests",queue:n},{key:"publisherRestrictions",queue:[{key:"numPubRestrictions",size:12}]}),s=[{size:3}],o=[].concat(s).concat(n),r=[].concat(s).concat(n),a=[].concat(s).concat(t).concat({key:"numCustomPurposes",size:6});let c=[{key:"core",queue:i}];for(let t=1;t<e.length;t++){let n=oe(e[t].slice(0,3));1===n?c.push({key:"disclosedVendors",queue:o}):2===n?c.push({key:"allowedVendors",queue:r}):3===n&&c.push({key:"publisherTC",queue:a})}return c}(c);for(let e=0;e<l.length;e++){let i=a(l[e],c[e]);l[e].key&&(n[l[e].key]=i),t=0}return n}function de(e){let t=!1;for(let n=0;n<e.length;n++)if(e[n])if(_===e[n]||b===e[n]||"*"===e[n]||e[n]===l.regId)t=!0;else if("!"===e[n].charAt(0)){let i=e[n].substring(1);if(_===i||b===i||l.regId===i){t=!1;break}}return t}function ue(e,t){let n=t?new Date(t):new Date;return n.setUTCFullYear(n.getUTCFullYear()+e),n}function ge(e){let t;return t="object"==typeof e&&null!==e?e[k]||e[l.defaultLanguage]||"":"string"==typeof e?e:"",t}function pe(e){let t={};if(e)for(let i=0;i<n.length;i++)t[n[i]]=e[n[i]];else ee("error","Critical Error: Attempt to read or copy consent before UserConsent is initialized!");return t}function he(e,t){if(t){e=e||{};for(let i=0;i<n.length;i++)"boolean"==typeof t[n[i]]&&(e[n[i]]=t[n[i]])}return e}function Se(e,n,i){try{(i=i||t).dispatchEvent(new CustomEvent(e,{bubbles:!1,cancelable:!1,detail:n}))}catch(t){ee("error",'Uncaught error in "'+e+'" event handler: ',t)}}function fe(t){if(t>0){const n=1===t?"Stub load failure":2===t?"Initialization failure":3===t?"SDK load timeout":"Unknown error";ee("error","OneTrust Error (",t,"): ",n),e.WBD.UserConsent_wait>=0&&(clearTimeout(e.WBD.UserConsent_wait),e.WBD.UserConsent_wait=-1),U=!0,m&&ee("debug","Dispatching oneTrustFailed event."),Se("oneTrustFailed",{region:l.regId,time:new Date,consentConfirmed:d,otId:g,otVers:E,code:t,msg:n})}}function Ee(){if(!R){if(e.OneTrust&&"function"==typeof e.OneTrust.getGeolocationData){let t=e.OneTrust.getGeolocationData();!t||t.country===_&&t.state===O?R=!0:"function"==typeof e.OneTrust.setGeoLocation?(e.OneTrust.setGeoLocation(_,O),R=!0):e.OneTrustStub&&"function"==typeof e.OneTrustStub.setGeoLocation&&(e.OneTrustStub.setGeoLocation(_,O),R=!0)}else e.OneTrustStub&&"function"==typeof e.OneTrustStub.setGeoLocation&&(e.OneTrustStub.setGeoLocation(_,O),R=!0);m&&ee("debug",R?"Set OneTrust geo-location.":"Not yet able to set OneTrust geo-location.")}}function Ce(e,t,i){let s=N.getFieldValue(e,t.field),o=t.type.toLowerCase(),r=(e,t,s)=>{const o="string"==typeof t&&"string"!==s?[t]:t,r="boolean"===s||"string"===s?e:"trinary"===s?2===e:0!==e;for(let e of o)(0===l.consentNotApplicable.length||l.consentNotApplicable.indexOf(e)<0)&&(n.indexOf(e)>=0&&l.consentNotApplicable.indexOf(e)<0?i[e]=r:ee("error",'Invalid consent "'+e+'" specified in GPP Categories!'))};if(o.startsWith("array"))if(o=o.substring(6),M[o]&&t.maxCount&&Array.isArray(s))for(let e=0;e<t.maxCount;e++)t[e]&&r(s[e],t[e],o);else ee("error",'Error: Unparsable data type "'+o+'" or missing maxCount in GPP Categories "'+t.field+'" value!');else t.val&&(M[o]?r(s,void 0!==t.val?t.val:t.default,o):ee("error",'Error: Unparsable data type "'+o+'" in GPP Categories!'))}function me(e,t,i){let s=N.getFieldValue(e,t.field),o=t.type.toLowerCase(),r=(e,t)=>{const s="string"==typeof e?[e]:e;let o=0,r=!0;for(let e of s)n.indexOf(e)>=0?void 0!==i[e]&&(r=r&&i[e],o++):ee("error",'Invalid consent "'+e+'" specified in GPP Categories!');return o>0?"boolean"===t?r:"trinary"===t?r?2:1:r?1:0:"boolean"!==t&&0};try{if(o.startsWith("array")){if(o=o.substring(6),!M[o])throw"unparse";if(!t.maxCount||!Array.isArray(s))throw"badarray";for(let e=0;e<t.maxCount;e++)void 0!==t[e]?s[e]=r(t[e],o):void 0!==t.default&&void 0!==t.default[e]&&(s[e]=t.default[e])}else{if(!M[o])throw"unparse";t.val?s=r(t.val,o):void 0!==t.default&&(s=t.default)}N.setFieldValue(e,t.field,s)}catch(e){ee("error","unparse"===e?'Error: Unparsable data type "'+o+'" in GPP Categories!':"badarray"===e?'Error: Missing maxCount or bad array in GPP Categories "'+t.field+'" value!':'Failed to set GPP field "'+t.field+'" value!')}}function Ie(t){const n=l.gppSection;let i="string"==typeof t?t:"",s="CMP",o=null;if(0===i.length&&(l.useExternalConsent?(i=e.OTExternalConsent.gppString||"",s="external consent"):(i=function(e){let t;if(null===(t=te(e))){t="";for(let n=1,i=null;""!==i&&n<10;n++,t+=i)i=te(e+n.toString(10))||""}return t}(l.gppIabCookie)||"",s="cookie")),""===i)return m&&ee("debug","No GPP string present."),null;try{N.setGppString(i)}catch(e){return ee("error","GPP string invalid, ignoring."),null}if(!N.hasSection(n)||!Array.isArray(l.gppCategories[n]))return m&&ee("debug","GPP string present, but for different region/section."),null;N.setApplicableSections([y[n]]);const r=l.gppCategories[n];o=pe(l.consentDefaults);for(let e of r)"object"==typeof e&&null!==e&&e.field&&Ce(n,e,o);return l.useExternalConsent||(N.getFieldValue(n,"GpcSegmentIncluded")&&!N.getFieldValue(n,"Gpc")===H&&(N.setFieldValue(n,"Gpc",H),i=N.getGppString()),H&&(o=he(o,l.consentGpcDefaults))),i!==A&&(A=i),m&&ee("debug","Processed GPP string from "+s+": "+A),o}function Te(e,t){const n=A,i=l.gppSection;if("string"==typeof e&&e.length>0)try{N.setGppString(e),(A=e)&&N.hasSection(i)&&N.setApplicableSections([y[i]]),m&&ee("debug","GPP string set from CMP: ",e)}catch(e){return ee("error","Failed to set GPP string: ",e),!1}else{if("object"!=typeof t||null===t||!Array.isArray(l.gppCategories[l.gppSection]))return ee("error","Failed to set GPP string, invalid parameters."),!1;try{if(A||N.setApplicableSections([y[i]]),Array.isArray(l.gppCategories[i])){const e=l.gppCategories[i];for(let n of e)"object"==typeof n&&null!==n&&n.field&&me(i,n,t)}H&&N.setFieldValue(i,"Gpc",H),(A=N.getGppString())&&N.hasSection(i)&&(N.setApplicableSections([y[i]]),!1===K&&0!==n.length&&n!==A&&N.fireSectionChange(i)),m&&ee("debug","GPP string set from consent state: ",A)}catch(e){return ee("error","Failed to set GPP string: ",e),!1}}return!0}function _e(t){let n;return l.useExternalConsent||function(){let e=te(l.consentCookie);if(e&&e.indexOf("&groups=")>=0){const t=e.split("&");for(let e=0;e<t.length;e++){let n=t[e];if(n){let e=n.split("="),t=e[0],i=e[1];"version"===t&&i?E=i:"consentId"===t&&i&&(g=i)}}return!0}return!1}()||(d=!1,f=null),!d||l.useFixedConsent?(n=pe(l.consentDefaults),h="defaults"):Q&&(l.useExternalConsent||l.gppIabCookie)&&(n=Ie(t))?h=t?"gpp string":l.useExternalConsent?"external GPP consent":l.gppIabCookie+" cookie":Y&&(l.useExternalConsent&&e.OTExternalConsent.tcString||l.gdprIabCookie)&&(n=function(t,n){let i=null;if(!0===l.useExternalConsent&&e.OTExternalConsent.tcString||"string"==typeof t&&0!==t.length){let s,o;if(!0===l.useExternalConsent&&e.OTExternalConsent.tcString?(x=e.OTExternalConsent.tcString,s="external consent",o=s,r=e.OTExternalConsent.addtlConsent?e.OTExternalConsent.addtlConsent:""):(x=te(t),s='"'+t+'" cookie',o='"'+n+'" cookie',null===(r="string"==typeof n&&0!==n.length?te(n):"")&&(r="")),x&&l.useIabString){const e=le(x);if(e&&e.core&&"object"==typeof l.tcfOpts.policies[e.core.tcfPolicyVersion]&&e.core.purposeConsents){let t,n,a,c,d,u=l.tcfOpts.policies[e.core.tcfPolicyVersion],g=e.core.purposeConsents,p=e.core.purposeLegitimateInterests||{},h=e.core.specialFeatureOptins||{};for(m&&ee("debug","Processed TC string (policy "+e.core.tcfPolicyVersion+") from "+s+": ",e),G=e.core.tcfPolicyVersion,i=pe(l.consentImpliedDefaults),t=1;t<=l.tcfOpts.categories.purposes.length;t++)if(a=l.tcfOpts.categories.purposes[t-1],a&&"unused"!==a)for(c=Array.isArray(a)?a:[a],n=0;n<c.length;n++)a=c[n],a&&"unused"!==a&&"required"!==a&&(d=t<=u.iabMaxPurposes?"boolean"==typeof g[t]?g[t]:"boolean"==typeof p[t]?p[t]:"boolean"==typeof l.consentImpliedDefaults[a]&&l.consentImpliedDefaults[a]:"boolean"==typeof l.consentImpliedDefaults[a]&&l.consentImpliedDefaults[a],i[a]="boolean"==typeof i[a]?i[a]&&d:d);for(t=1;t<=l.tcfOpts.categories.specialFeatures.length;t++)if(a=l.tcfOpts.categories.specialFeatures[t-1],a&&"unused"!==a)for(c=Array.isArray(a)?a:[a],n=0;n<c.length;n++)a=c[n],a&&"unused"!==a&&"required"!==a&&(d=t<=u.iabMaxSpecialFeats&&"boolean"==typeof h[t]?h[t]:"boolean"==typeof l.consentImpliedDefaults[a]&&l.consentImpliedDefaults[a],i[a]="boolean"==typeof i[a]?i[a]&&d:d);0!==r.length&&-1===r.search(/^\d+~[\d\.]*$/)&&(ee("error","Error: Invalid AC string in "+o+"."),r="")}else ee("error","Error: Invalid TC string in "+s+"."),x="",r=""}else l.useIabString?(x="",r=""):m&&ee("debug","Bypassed parsing TC string.")}return i}(l.gdprIabCookie,l.addtlConsentCookie))?h=l.useExternalConsent?"external TCF consent":l.gdprIabCookie+" cookie":(n=function(){let t=te(l.consentCookie),n=null;if(l.useExternalConsent&&(t="groups="+encodeURIComponent(e.OTExternalConsent.groups),H=!1),t&&t.indexOf("&groups=")>=0){const e=t.split("&");for(let t=0;t<e.length;t++){let i=e[t];if(i){let e=i.split("="),t=e[0],s=e[1];if("groups"===t&&s){let e=decodeURIComponent(s).split(","),t=[],i=[],o=0,r=!1;n=he(pe(l.consentDefaults),l.consentImpliedDefaults);for(let s=0;s<e.length;s++){let a=e[s].split(":"),c=a[0].toLowerCase(),d="1"===a[1];c&&(l.categories[c]?(n[l.categories[c]]=d,"required"!==l.categories[c]&&o++):(l.compatTransition&&l.compatTransition.old===c&&l.compatTransition.cond===d&&(r=!0),l.compatCodes[c]&&(t.push(c),i.push(d))))}if(0===o&&t.length>0){W=!0;for(let e=0;e<t.length;e++){let s=l.compatCodes[t[e]];s&&!Array.isArray(s)&&(s=[s]);for(let t of s){let s=l.categories[t];s&&(n[s]=i[e],o++)}}}else if(r&&l.compatTransition.new)if(Array.isArray(l.compatTransition.new))for(let e=0;e<l.compatTransition.new.length;e++)n[l.categories[l.compatTransition.new[e]]]=l.compatTransition.cond,o++;else n[l.categories[l.compatTransition.new]]=l.compatTransition.cond,o++;0===o&&(n=null)}}}}return n}())?h=l.useExternalConsent?"external consent":l.consentCookie+" cookie":(n=pe(l.consentDefaults),h="defaults"),l.useExternalConsent||H&&(n=he(n,l.consentGpcDefaults)),n}function Oe(){return pe(S)}function be(){return F}function ye(){return!F}function Ne(){return de(l.ccpaGeos)}function we(){return V}function Ae(){return null!==S}function Pe(e,t){const n="iab-"+(l.iabRegion||"N/A"),i="gpp-"+(l.gppSection||"N/A");let s=!0,o="not ready";if(t=t||{},Ae()&&e){e=Array.isArray(e)?e:[e],t.checkIAB&&l.useIAB&&""!==l.iabRegion&&e.unshift(t.checkIAB);for(let r=0;r<e.length&&s;r++)if(o=e[r],o&&"required"!==o)if("gpp"===o||"iab-gpp"===o||o===i){if(Q&&(!t||!t.ignoreIAB))break}else if("iab"===o||o===n){if(l.useIAB&&""!==l.iabRegion&&(!t||!t.ignoreIAB))break}else if("boolean"==typeof S[o]&&!1===S[o])s=!1;else if(l.compatCategories[o]){let e=l.compatCategories[o];for(let t=0;t<e.length;t++){let n=e[t];if("boolean"==typeof S[n]&&!1===S[n]){s=!1;break}}}}return m&&!t.internal&&(t.name=t.name||t.id||"unnamed",u.push({ts:new Date,act:t.cact||"CHK",desc:t.name,res:s,note:!s&&o||""}),ee("debug",s?"Check for consent ["+(e&&e.join(",")||"empty")+'] ALLOWS "'+t.name+'"'+("ADD"===t.cact?", script added":""):"Check for consent ["+(e&&e.join(",")||"empty")+'] REJECTS "'+t.name+'"'+("ADD"===t.cact?", script NOT added":""))),s}function De(){let e;return e=q?"1"+(l.uspApiExplicitNotice?"Y":"N")+(Pe(["vendor"],{internal:!0})?"N":"Y")+(l.uspApiIsLspa?"Y":"N"):"1---",e!==$&&($=e,ye()&&(null===X&&ne(l.uspApiCookieName,e,{domain:l.cookieDomain,path:"/",samesite:l.cookieSameSite,secure:l.cookieSecure}),m&&ee("debug","USP string updated: ",e))),$}function Re(){const t=i;let n="",r=!1;if(!l.aceMapping)return m&&ee("debug","No ACE mapping configured, no ACE string generated."),!1;try{const t=Object.keys(l.aceMapping);let a,c={},d=[];if(n="|"+_,"US"===_&&(n+="-"+O),n+="|","global"===l.regId)n+="OOF";else{for(a=0;a<t.length;a++){let e=t[a],n=!!("true"===e||"false"!==e&&S[e]),i=l.aceMapping[e];for(let e,t=0;t<i.length;t++)e=i[t].toUpperCase(),"boolean"!=typeof c[e]?(d.push(e),c[e]=n):n||(c[e]=!1)}for(d.sort(),a=0;a<d.length;a++){let e=d[a];n+=c[e]?e:e.toLowerCase()}n+=(l.consentMarketing.brand?"B":"b")+(l.consentMarketing.email?"E":"e")+(l.consentMarketing.wbd?"W":"w")+"|",Q?n+=A:J?n+=x:Ne()&&(n+=$)}n.length>0&&(o&&s==n||(r=!0,s=n,o=new Date,i=e.btoa(o.toISOString()+n)))}catch(e){ee("error","Failed to generate ACE string!",e),r=!1}return r?(m&&ee("debug","Generated ACE string (src): ",o.toISOString()+s),Se("aceStringChanged",{region:l.regId,time:o,oldAce:t,newAce:i})):m&&ee("debug","ACE string unchanged."),r}function Ve(){let n=function(n,i,s){let o,r,a=t.createElement(s||"div");return n&&(a.id=n),i&&(a.className=i),a.style.width="1px",a.style.display="block",a=t.body.appendChild(a),o=e.getComputedStyle(a),r="none"===o.display,a.remove(),r};t.body?(v=n("onetrust-consent-sdk","ot-cookie-consent")||n("ot-lst-cnt","ot-sdk-show-settings")||n("onetrust-pc-sdk","otPcCenter ot-fade-in")||n("ot-pc-header","onetrust-pc-dark-filter")||n("ot-pc-content","ot-pc-scrollbar")||n("ot-sdk-btn","ot_cookie_settings_btn")||!1)&&(m&&ee("debug","OneTrust being blocked by filter."),Se("oneTrustBlocked",{region:l.regId,time:new Date,consentConfirmed:d,otId:g,otVers:E})):setTimeout(Ve.bind(e),5)}function ve(){e.location.reload()}function Ue(n){if(!e.frames[n]){if(t.body){const e=t.createElement("iframe");e.style.cssText="display:none",e.name=n,t.body.appendChild(e)}else setTimeout(Ue.bind(e,n),5);return!0}return!1}function Le(t){let n=null;for(let i=e;i;i=i.parent){try{if(i.frames&&i.frames[t]){n=i;break}}catch(e){}if(i===e.top)break}return n}function ke(t){e.addEventListener("message",t,!1)}function Me(e){C=e||{ccpaTCS:$,consentInteractions:p,consentTime:f,consentVersion:E,countryCode:_,region:l.regId,stateCode:O,userConsentVersion:B},ye()&&ne(l.controlCookie,"ccc="+C.countryCode+"&csc="+C.stateCode+"&cic="+C.consentInteractions+"&otvers="+C.consentVersion+"&pctm="+(C.consentTime&&encodeURIComponent(C.consentTime.toISOString())||"0")+"&reg="+C.region+"&ustcs="+encodeURIComponent(C.ccpaTCS)+"&vers="+C.userConsentVersion,{domain:l.cookieDomain,expires:ue(l.consentExpireIn).toUTCString(),path:"/",samesite:l.cookieSameSite,secure:l.cookieSecure})}function xe(){const t=te(l.confirmCookie);if("string"==typeof t&&0!==t.length){let n=new Date(t);if(!e.isNaN(n.valueOf()))return n}return null}function Ge(t){const s=xe(),o=d,a=f,c=e.OneTrust&&"function"==typeof e.OneTrust.GetDomainData?e.OneTrust.GetDomainData():null;let h,I=!1,T=!1,_="";if(c)try{_=c.ConsentIntegrationData.consentPayload.dsDataElements.InteractionType}catch(e){_=""}s&&(null===f||s>f)&&(d=!0,f=s),t&&!Q&&(t=""),h=_e(t);for(let e of n)if(h[e]!==S[e]&&(I=!0,!0!==h[e])){T=!0;break}if(I||!o&&d){const n=e.WBD.UserConsent_wrapproc>0?new Date(e.WBD.UserConsent_wrapproc):null;let s;if(p++,n&&(null===f||n.getTime()>f.getTime()+l.consentChangeActionDelay+1e3)&&(f=n),s=S,S=h,De(),Q&&Te(t,h),Re(),Me(),I){if(m)try{u.push({ts:new Date,act:"CHG",desc:JSON.stringify(h),res:l.reloadOnConsentChange||l.reloadOnConsentReduction&&T,note:"function"==typeof l.consentChangeAction?"change function":""})}catch(e){ee("error","Failed to track consent change: ",e)}if("function"==typeof l.consentChangeAction&&l.consentChangeAction(Oe(),l.regId,E,s),Se("userConsentChanged",{region:l.regId,time:f,otId:g,otVers:E,otIact:_,old:s,new:Oe(),gpcActive:H,gpp:A,gppCmpId:w,gppVers:P,usp:$,tcf:x,tcfVers:G,acf:r,ace:i}),l.reloadOnConsentChange||T&&l.reloadOnConsentReduction)setTimeout(ve,500);else if(ye())try{e.sessionStorage.setItem("_ucWBDCons",JSON.stringify({consentState:S,consentTime:f,consentVersion:E,consentConfirmed:d,gppString:A,tcString:x,acString:r,aceString:i})),e.postMessage("_ucWBDConsReset","*")}catch(e){ee("error","Failed to update session storage and notify children of consent change: ",e)}}}if(!I&&e.WBD.UserConsent_optLoaded){try{u.push({ts:new Date,act:"NCC",desc:JSON.stringify(S),res:!1,note:l.regId})}catch(e){ee("error","Failed to track consent no-change: ",e)}f=a,(!C.region||!C.consentVersion&&E||!C.userConsentVersion||C.userConsentVersion<"3.1.1")&&Me(),Se("userConsentNotChanged",{region:l.regId,time:f,otId:g,otVers:E,otIact:_,new:Oe(),gpcActive:H,gpp:A,gppCmpId:w,gppVers:P,usp:$,tcf:x,tcfVers:G,acf:r,ace:i})}e.WBD.UserConsent_optLoaded=!0,e.WBD.UserConsent_wrapproc=0}function Fe(s){let o,g,w,P=!1,v=!1,M=null;if(null!==S)return;if(!s||!s.domId||!s.cookieDomain)throw new Error("Invalid config passed to user-consent!");if(s.regId="",w=Le("_usrConWBD"),null!==w)if(e===e.top)ee("error","Detected an instance of UserConsent in an iframe acting as the primary instance.  This was likely caused by a delay in this instance initializing, which must be corrected.  Consent is not working correctly!");else{let t,o;T=e.name||"child";try{t=JSON.parse(e.sessionStorage.getItem("_ucWBDConf"))}catch(e){t=null,ee("error","Failed to parse parent frame consent settings.")}if("object"==typeof t&&null!==t){s.countryCode=t.countryCode,s.cookieDomain=t.cookieDomain,s.cookieSameSite=t.cookieSameSite,s.cookieSecure=t.cookieSecure,s.domId=t.domId,s.languageFromBrowser=!!t.langFromBrowser,s.enableDebug=!!t.enableDebug,s.enableGPC=!!t.enableGPC,s.regId=t.regId,s.stateCode=t.stateCode,s.src=t.src;try{o=JSON.parse(e.sessionStorage.getItem("_ucWBDCons"))}catch(e){o=null,ee("error","Failed to parse parent frame consent state.")}"object"==typeof o&&null!==o&&(S=o.consentState,f=o.consentTime,E=o.consentVersion,d=o.consentConfirmed,A=o.gppString,x=o.tcString,r=o.acString,i=o.aceString,F=!0),t.parentReload||ke((function(t){var i,s;if("_ucWBDConsReset"===t.data){try{s=JSON.parse(e.sessionStorage.getItem("_ucWBDCons"))}catch(e){s=null}"object"==typeof s&&null!==s&&(i=function(e,t){if(e&&t)for(let i=0;i<n.length;i++)if(e[n[i]]&&!t[n[i]])return!0;return!1}(S,s.consentState),l.reloadOnConsentChange||i&&l.reloadOnConsentReduction?setTimeout(ve,600+l.consentChangeActionDelay):(S=s.consentState,f=s.consentTime,E=s.consentVersion,d=s.consentConfirmed,A=s.gppString||"",x=s.tcString||"",r=s.acString||"",De()))}}))}}if(void 0===s.gppCategories)s.gppCategories=Z.gppCategories;else{for(g in s.gppCategories)"usnatv1"===g?(s.gppCategories.usnat=s.gppCategories.usnatv1,delete s.gppCategories.usnatv1):"uspnatv1"===g?(s.gppCategories.uspv1=s.gppCategories.uspnatv1,delete s.gppCategories.uspnatv1):y[g]||(ee("error",'Error: Unsupported GPP section "'+g+'" ignored.'),delete s.gppCategories[g]);for(g in Z.gppCategories)s.gppCategories[g]=s.gppCategories[g]||Z.gppCategories[g]}for(g in Z)l[g]=void 0!==s[g]?s[g]:Z[g];if(Z=null,l.cookieDomain=s.cookieDomain,l.domId=s.domId,l.changeRegions=s.changeRegions,(m=!(!console||!s.enableDebug&&-1===e.location.search.search(/[?&]wmuc_debug=[1t]/)))&&ee("debug","Initializing UserConsent v"+B+" ("+l.ucFlavor+")"),l.strictIabCompliance=!!l.strictIabCompliance,"string"==typeof s.countryCode&&2===s.countryCode.length&&(l.countryCode=s.countryCode),"string"==typeof s.stateCode&&2===s.stateCode.length&&(l.stateCode=s.stateCode),""!==l.gpcFixCookie&&function(t){if(void 0===e.navigator.globalPrivacyControl&&t){const n=te(t);if(n&&("1"===n||n.startsWith("t")))try{Object.defineProperty(e.Navigator.prototype,"globalPrivacyControl",{get:function(){return!0},configurable:!0,enumerable:!0})}catch(e){ee("error","GPC signal error in browser.")}}}(l.gpcFixCookie),"object"==typeof e.GetExternalConsent&&null!==e.GetExternalConsent&&"function"==typeof e.GetExternalConsent.oneTrustCookie){let t;try{t=JSON.parse(e.GetExternalConsent.oneTrustCookie())}catch(e){t=null}"object"==typeof t&&null!==t&&t.consentedDate&&(t.gppString||t.tcString||t.groups)&&(t.gppString=t.gppString||"",e.OTExternalConsent=t),"function"==typeof e.GetExternalConsent.countryCode&&e.GetExternalConsent.countryCode()&&(e.ExternalConsentGeo={countryCode:e.GetExternalConsent.countryCode(),stateCode:e.GetExternalConsent.stateCode()||""})}l.enableWebViewCheck&&"object"==typeof e.OTExternalConsent&&null!==e.OTExternalConsent&&e.OTExternalConsent.consentedDate&&(e.OTExternalConsent.groups||e.OTExternalConsent.gppString||e.OTExternalConsent.tcString)?(l.useExternalConsent=!0,m&&ee("debug","Reading consent from external consent data: ",e.OTExternalConsent)):l.useExternalConsent=!1;const G="function"==typeof l.geoCheckFunction?l.geoCheckFunction():null;if(ye()&&m&&-1!==e.location.search.search(/[?&]wmuc_cc=[A-Za-z]{2}/))ee("debug","Set debug CC to: ",_=e.location.search.match(/[?&]wmuc_cc=([A-Za-z]{2})/)[1].toUpperCase());else if(l.useExternalConsent&&"object"==typeof e.ExternalConsentGeo&&"string"==typeof e.ExternalConsentGeo.countryCode&&2===e.ExternalConsentGeo.countryCode.length)ee("debug","Set external CC to: ",_=e.ExternalConsentGeo.countryCode.toUpperCase());else if("string"==typeof l.countryCode&&2===l.countryCode.length)_=l.countryCode.toUpperCase();else if(G&&G.countryCode&&2===G.countryCode.length)_=G.countryCode.toUpperCase();else{const e=te(l.ccCookie||"countryCode");e&&2===e.length&&(_=e.toUpperCase())}if(_&&2===_.length||ee("error","User-Consent unable to determine country, missing or invalid cookies!  Using default ("+(_=l.defaultCountry&&2==l.defaultCountry.length?l.defaultCountry.toUpperCase():"US")+")."),m&&-1!==e.location.search.search(/[?&]wmuc_sc=[A-Za-z]{2}/))ee("debug","Set debug SC to: ",O=e.location.search.match(/[?&]wmuc_sc=([A-Za-z]{2})/)[1].toUpperCase());else if(l.useExternalConsent&&"object"==typeof e.ExternalConsentGeo&&"string"==typeof e.ExternalConsentGeo.stateCode&&2===e.ExternalConsentGeo.stateCode.length)ee("debug","Set external SC to: ",O=e.ExternalConsentGeo.stateCode.toUpperCase());else if("string"==typeof l.stateCode&&2===l.stateCode.length)O=l.stateCode.toUpperCase();else if(G&&G.countryCode&&2===G.countryCode.length)O="string"==typeof G.stateCode?G.stateCode.toUpperCase():"";else{const e=te(l.scCookie||"stateCode");e&&2===e.length&&(O=e.toUpperCase())}if(O&&0!==O.length||(O=l.defaultState&&l.defaultState.length>0?l.defaultState.toUpperCase():"",m&&ee("debug","User-Consent unable to determine state.  Using default ("+O+").")),b=_+":"+O,ye()){!R&&l.geoPassedToOneTrust&&(e.OneTrust=e.OneTrust||{},e.OneTrust.geolocationResponse={countryCode:_,stateCode:O});let t=function(t){l.geoPassedToOneTrust&&Ee(),V&&!l.useExternalConsent&&null!==S&&0===e.WBD.UserConsent_wrapproc&&(e.WBD.UserConsent_wrapproc=(new Date).getTime(),m&&ee("debug","Consent changed event handler determining consent changes."),Q&&K?e.__gpp("ping",(function(e){e&&e.gppString&&Ge(e.gppString)})):setTimeout(Ge,l.consentChangeActionDelay))};e.addEventListener("OneTrustGroupsUpdated",t,!1)}o=Object.keys(l.categories),n=[];for(let e=0;e<o.length;e++)n.push(l.categories[o[e]]);if(l.changeRegions){for(let e of["remove","replace","insert"])if(l.changeRegions[e]&&Array.isArray(l.changeRegions[e])&&0!==l.changeRegions[e].length){g=l.changeRegions[e];for(let t=0;t<g.length;t++)if("object"==typeof g[t]&&null!==g[t]&&g[t].id){let n=l.regions.length,i=g[t],s="insert"===e&&i.insertAfter?i.insertAfter:i.id,o=0;e:for(;o<n&&(!l.regions[o]||!l.regions[o].id||l.regions[o].id!==s);o++);"remove"===e?o<n&&delete l.regions[o]:"replace"===e?o<n&&(l.regions[o]=i):"insert"===e&&(o<n?i.insertAfter?(delete i.insertAfter,l.regions.splice(o+1,0,i)):l.regions[o]=i:(delete i.insertAfter,l.regions.splice(o+1,0,i)))}}delete l.changeRegions}for(let e=0;e<l.regions.length;e++)if(l.regions[e]&&l.regions[e].id&&l.regions[e].geoMatch){if(ye()&&de(l.regions[e].geoMatch)||be()&&l.regions[e].id===s.regId){M=l.regions[e];break}}else ee("error","Invalid region, missing id or geoMatch!");if(!M){if(be())throw new Error("No matching user-consent region, parent and iframe configs do not match!");throw new Error("No matching user-consent region!")}l.regId=M.id,l.defaultLanguage=(M.defaultLanguage||l.defaultLanguage).toLowerCase();try{let n="";l.languageFromBrowser||(n=t.getElementsByTagName("html")[0].getAttribute("xml:lang")||t.documentElement.lang||l.defaultLanguage),n||(n=e.navigator.language||l.defaultLanguage),k=n?n.substr(0,2).toLowerCase():"en"}catch(e){k="en"}if(m&&-1!==e.location.search.search(/[?&]wmuc_lang=[A-Za-z]{2}/)){let t=e.location.search.match(/[?&]wmuc_lang=([A-Za-z]{2})/)[1].toLowerCase();P=k!==t,ee("debug","Set debug Language to: ",k=t)}if(l.aceMapping=M.aceMapping||l.aceMapping||null,l.adCategories=M.adCategories||l.adCategories||[],l.adChoicesLinkAction=M.adChoicesLinkAction||l.adChoicesLinkAction||null,l.adChoicesLinkTitle=ge(M.adChoicesLinkTitle||l.adChoicesLinkTitle),l.affiliatesLinkAction=M.affiliatesLinkAction||l.affiliatesLinkAction||null,l.affiliatesLinkTitle=ge(M.affiliatesLinkTitle||l.affiliatesLinkTitle),l.compatTransition=l.enableTransitionCheck&&M.compatTransition?M.compatTransition:null,l.compatCategories=M.compatCategories||l.compatCategories||{},l.compatCodes=M.compatCodes||l.compatCodes||{},l.consentExpireIn=M.consentExpireIn||l.consentExpireIn||1,l.consentLinkAction=M.consentLinkAction||l.consentLinkAction||null,l.consentLinkTitle=ge(M.consentLinkTitle||l.consentLinkTitle),l.confirmCookie=M.confirmCookie||l.confirmCookie,l.consentCookie=M.consentCookie||l.consentCookie,l.contextAdCategories=M.contextAdCategories||l.contextAdCategories||[],l.addtlConsentCookie=M.addtlConsentCookie||l.addtlConsentCookie,M.consentDefaults&&(l.consentDefaults=he(l.consentDefaults,M.consentDefaults)),l.consentGpcDefaults=M.consentGpcDefaults||l.consentGpcDefaults||null,l.consentImpliedDefaults=M.consentImpliedDefaults||l.consentImpliedDefaults||{},l.consentImpliedDefaults.required||(l.consentImpliedDefaults.required=!0),l.consentNotApplicable=M.consentNotApplicable||l.consentNotApplicable||[],l.consentNotApplicable&&Array.isArray(l.consentNotApplicable)&&0!==l.consentNotApplicable.length)for(let e of l.consentNotApplicable)void 0!==l.consentDefaults[e]&&delete l.consentDefaults[e],void 0!==l.consentImpliedDefaults[e]&&delete l.consentImpliedDefaults[e];if(l.consentMarketing=M.consentMarketing||l.consentMarketing||{brand:!1,email:!1,wbd:!1},l.useFixedConsent="boolean"==typeof M.useFixedConsent?M.useFixedConsent:l.useFixedConsent,l.domId=M.domId||l.domId,l.src=M.src||l.src,l.gdprIabCookie=M.gdprIabCookie||l.gdprIabCookie,l.tcfOpts=M.tcfOpts||l.tcfOpts||null,l.privacyCenterLinkAction=M.privacyCenterLinkAction||l.privacyCenterLinkAction||null,l.privacyCenterLinkTitle=ge(M.privacyCenterLinkTitle||l.privacyCenterLinkTitle),l.rightsRequestLinkAction=M.rightsRequestLinkAction||l.rightsRequestLinkAction||null,l.rightsRequestLinkTitle=ge(M.rightsRequestLinkTitle||l.rightsRequestLinkTitle),l.useIAB&&(l.iabRegion=("string"==typeof M.iabRegion&&M.iabRegion||l.iabRegion).toLowerCase(),"ccpa"===l.iabRegion?q=!0:"gdpr"===l.iabRegion&&l.tcfOpts?(Y=!0,J=!0):l.iabRegion&&"gpp"!==l.iabRegion&&ee("error",'Error: Invalid IAB region "'+l.iabRegion+'" specified for region "'+l.regId+'", IAB not enabled for region!')),l.useGPP&&(l.gppSection=("string"==typeof M.gppSection&&M.gppSection||l.gppSection).toLowerCase(),l.gppSection="usnat"===l.gppSection||"usnatv1"===l.gppSection?"usnat":"uspv1"===l.gppSection||"uspnatv1"===l.gppSection?"uspv1":l.gppSection,l.useGPP&&l.gppSection&&(y[l.gppSection]&&l.gppCategories[l.gppSection]?(Q=!0,q&&l.ccpaGeos&&!de(l.ccpaGeos)&&(q=!1),"tcfeuv2"!==l.gppSection&&"tcfcav1"!==l.gppSection||(J=!0)):ee("error",'Error: Invalid GPP section "'+l.gppSection+'" specified for region "'+l.regId+'", IAB/GPP not enabled for region!'))),Q||q||Y||(l.iabRegion="",l.gppSection="",l.useIAB=!1,l.useGPP=!1),l.enableGPC&&l.consentGpcDefaults&&navigator.globalPrivacyControl&&(H=!0),l.setPageClass&&t.documentElement&&(t.documentElement.className=(t.documentElement.className&&" "!==t.documentElement.className?t.documentElement.className+" userconsent-cntry-":"userconsent-cntry-")+_.toLowerCase()+" userconsent-state-"+O.toLowerCase()+" userconsent-reg-"+l.regId.toLowerCase()+(H?" userconsent-gpc":"")),m&&(ee("debug","GeoIP Country Code: "+_+", using consent region: "+l.regId),ee("debug","IAB "+(l.useIAB?"enabled":"disabled"))),(Q||q||Y||l.ccpaGeos)&&function(){let t,n,i=function(e,t){const n="string"==typeof t.data,i=e+"Return";let s,o;try{s=n?JSON.parse(t.data):t.data}catch(e){s={}}if(o=s[i],o&&void 0!==o.callId&&"function"==typeof c[o.callId]){const e=o.callId,t=o.returnValue;try{t&&"number"==typeof t.listenerId&&!0===o.success?(m&&ee("debug","Calling post message callback "+e+" (listenerId: "+t.listenerId+")"),I[t.listenerId]=e,c[e](t,o.success)):(m&&ee("debug","Calling post message callback ",e),c[e](t,o.success),delete c[e])}catch(t){ee("error","Post message callback error (callId "+e+"): ",t)}}else o&&ee("error","Post message bad or missing callback (callId "+o.callId+").")},s=function(t,n){const i="string"==typeof n.data,s=t+"Call";let o,r={},a=function(e,s){let o={};o[t+"Return"]={returnValue:e,success:s,callId:r.callId};try{n.source.postMessage(i?JSON.stringify(o):o,"*")}catch(e){ee("error","Failed to post reply: ",e)}};try{o=i?JSON.parse(n.data):n.data}catch(e){o={}}"object"==typeof o&&null!==o&&o[s]&&(r=o[s],"__gpp"===t?e.__gpp(r.command,a,r.parameter,r.version):e[t](r.command,r.version,a,r.parameter))};if(null===(X=Le("__uspapiLocator"))?(Ue("__uspapiLocator"),e.__uspapi=function(t,n,i){if("function"==typeof i){if(n=0===n?1:n,"getUSPData"===t&&1===n){try{i({version:1,uspString:e.WBD.UserConsent.getUspAPIstring()},!0)}catch(e){return ee("error",'Callback function failure in "getUSPData": ',e),!1}return!0}if("ping"===t){try{i({version:1,uspapiLoaded:!0},!0)}catch(e){return ee("error",'Callback function failure in USP "ping": ',e),!1}return!0}try{i(null,!1)}catch(e){ee("error","Callback function failure in USP with bad command: ",e)}}return!1},e.__uspapi.msgHandler=s.bind(e,"__uspapi"),ke(e.__uspapi.msgHandler),be()?ee("error","Unable to locate USP messaging frame from iframe!  Consent logic may not work correctly!"):m&&ee("debug","IAB for CCPA ready.")):(e.__uspapi=function(e,t,n,i){const s=a++,o={__uspapiCall:{command:e,parameter:i,version:t||1,callId:s}};c[s]=n,X.postMessage(o,"*")},e.__uspapi.postHandler=i.bind(e,"__uspapi"),ke(e.__uspapi.postHandler),m&&ee("debug","IAB for CCPA ready (via frame).")),Y&&(t="__tcfapi",n="2.0",null===(z=Le(t+"Locator"))&&"function"!=typeof e[t]?(Ue(t+"Locator"),e[t]=function(){let i=arguments;if(e[t].a=e[t].a||[],i.length>0)if("ping"===i[0]){if("function"==typeof i[2])try{i[2]({apiVersion:n,gdprApplies:!0,gdprAppliesGlobally:!1,cmpLoaded:!1,cmpStatus:"stub",displayStatus:"hidden"},!0)}catch(e){ee("error",t+' "ping" callback function error: ',e)}}else"setGdprApplies"===i[0]&&i.length>3&&"boolean"==typeof i[3]?(Y=i[3])&&q&&(q=!1):e[t].a.push([].slice.apply(i));return e[t].a},e[t].msgHandler=s.bind(e,t),ke(e[t].msgHandler),be()?ee("error","Unable to locate TCF messaging frame from iframe!  Consent logic may not work correctly!"):m&&ee("debug","IAB (v"+n+") for GDPR ready."),e[t]("addEventListener",2,(function(n,i){i&&n&&(m&&ee("debug",t+' event caught, eventStatus = "'+n.eventStatus+'"'),!e.OneTrust||"function"!=typeof e.OneTrust.GetDomainData||"tcloaded"!==n.eventStatus&&"cmpuishown"!==n.eventStatus||e.OptanonWrapper(),void 0===typeof n.listenerId||"error"!==n.cmpStatus&&"loaded"!==n.cmpStatus||e[t]("removeEventListener",2,(function(e){}),n.listenerId))}))):z&&(e.__tcfapi=function(e,t,n,i){const s=a++,o={__tcfapiCall:{command:e,parameter:i,version:t||2,callId:s}};c[s]=n,z.postMessage(o,"*"),"removeEventListener"===e&&"number"==typeof i&&void 0!==I[i]&&c[I[i]]&&(delete c[I[i]],delete I[i])},e.__tcfapi.postHandler=i.bind(e,"__tcfapi"),ke(e.__tcfapi.postHandler),m&&ee("debug","IAB (v"+n+") for GDPR ready (via frame)."))),Q)if(t="__gpp",n="1.1",null!==(j=Le("__gppLocator"))||e.__gpp)null!==j&&(e.__gpp=function(e,t,i,s){const o=a++,r={__gppCall:{command:e,parameter:i,version:s||n,callId:o}};c[o]=t,j.postMessage(r,"*"),"removeEventListener"===e&&"number"==typeof i&&void 0!==I[i]&&c[I[i]]&&(delete c[I[i]],delete I[i])},e.__gpp.postHandler=i.bind(e,"__gpp"),ke(e.__gpp.postHandler),m&&ee("debug","IAB for GPP ready (via frame)."));else{let t,n=[];Ue("__gppLocator"),e.__gpp=function(){return null},(N=N||new Be(1,1)).setCmpStatus("loading"),t=Object.keys(y);for(let e=0;e<t.length;e++)n.push(y[t[e]].toString(10)+":"+t[e]);N.setSupportedAPIs(n),D=e.__gpp,e.__gpp.msgHandler=s.bind(e,"__gpp"),ke(e.__gpp.msgHandler),be()?ee("error","Unable to locate GPP messaging frame from iframe!  Consent logic may not work correctly!"):m&&ee("debug","IAB for GPP ready.")}}(),ye()){let t;if(C=function(){const e=te(l.controlCookie),t={consentInteractions:p,consentTime:null,consentVersion:"",countryCode:"",region:"",stateCode:"",userConsentVersion:""};if("string"==typeof e&&0!==e.length){const n=e.split("&");for(let e=0;e<n.length;e++){let i=n[e].split("=");if("string"==typeof i[0]&&0!==i[0].length&&"string"==typeof i[1])switch(i[0]){case"ccc":t.countryCode=i[1].toLowerCase();break;case"csc":t.stateCode=i[1].toLowerCase();break;case"cic":t.consentInteractions=parseInt(i[1],10),(isNaN(t.consentInteractions)||t.consentInteractions<p)&&(t.consentInteractions=p);break;case"otvers":t.consentVersion=i[1].toLowerCase();break;case"pctm":let e;try{e="0"===i[1]?null:new Date(decodeURIComponent(i[1]))}catch(t){e=null}t.consentTime=null===e||isNaN(e.valueOf())?null:e;break;case"reg":t.region=i[1].toLowerCase();break;case"ustcs":try{t.ccpaTCS=decodeURIComponent(i[1]).toUpperCase()}catch(e){t.ccpaTCS=""}break;case"vers":t.userConsentVersion=i[1].toLowerCase()}}}return t}(),p=C.consentInteractions,l.useExternalConsent)try{f=new Date(e.OTExternalConsent.consentedDate),H=!1,m&&ee("debug","Consent time read from external consent data: ",f)}catch(e){ee("error","Consent Date from external consent data is invalid."),f=null}else f=xe(),null!==C.consentTime&&(null===f||C.consentTime>f)?(f=C.consentTime,m&&ee("debug",'Consent time read from "'+l.controlCookie+'": ',f)):null!==f&&m&&ee("debug",'Consent time read from "'+l.confirmCookie+'": ',f);if(t=m&&H?" [GPC override]":"",null!==f?(d=!0,S=_e(),d?(null!==C.consentTime&&C.consentTime<f&&(C.region=""),m&&(ee("debug","Consent state read from "+h+" ("+E+")"+t+": ",S),W&&ee("debug","Consent state using compatibility config."))):(f=null,C.region="",m&&ee("debug","Consent state expired or removed, reset from defaults"+t+": ",S))):(S=pe(l.consentDefaults),H&&(S=he(S,l.consentGpcDefaults)),m&&ee("debug","Consent state from defaults"+t+": ",S)),Q&&!A)Te("",S);else if(!Q&&Y&&!x&&l.gppCategories.tcfeuv2){l.gppSection="tcfeuv2",e.__gpp=function(){return null},N=N||new Be(1,1),Te("",S);try{if(!(x=N.getSectionString("tcfeuv2")))throw new Error("Unknown");m&&ee("debug","Generated temp. TC string: ",x)}catch(e){ee("error","Failed to generate temp. TC string: ",e),x=""}A="",delete e.__gpp,N=null}if(m)try{u.push({ts:new Date,act:"SET",desc:JSON.stringify(S),res:null!==f,note:l.regId})}catch(e){ee("error","Failed to track setting initial consent: ",e)}Re()}if(e.WBD.UserConsent_initted)return void ee("error","ERROR:  Second instance of UserConsent initialized!");if(e.WBD.UserConsent_initted=!0,De(),ye()&&(l.useExternalConsent?Me():C.region&&C.region!==l.regId&&($=C.region,ne=l.regId,m&&ee("debug",'User-Consent detected region change from "'+$+'" to "'+ne+'".'),"function"==typeof l.regionChangeAction&&l.regionChangeAction($,ne,l.consentLinkAction)),null===w))if(Ue("_usrConWBD")){m&&ee("debug","Setup UserConsent IPC frame.");try{e.sessionStorage.setItem("_ucWBDConf",JSON.stringify({cookieDomain:l.cookieDomain,cookieSameSite:l.cookieSameSite,cookieSecure:l.cookieSecure,countryCode:_,domId:l.domId,enableDebug:m,langFromBrowser:l.languageFromBrowser,parentReload:l.reloadOnConsentChange,regId:l.regId,src:l.src,stateCode:O})),e.sessionStorage.setItem("_ucWBDCons",JSON.stringify({consentState:S,consentTime:f,consentVersion:E,consentConfirmed:d,gppString:A,tcString:x,acString:r,aceString:i}))}catch(e){ie.uclog("error","Failed to set UserConsent frame data!")}}else ee("error","Failed to setup UserConsent IPC frame!");var $,ne;v=!("interactive"===t.readyState||"complete"===t.readyState);const ie={isTop:ye,uclog:ee},se=function(e,t,n,i,s){if(!s||s&&("interactive"===t.readyState||"complete"===t.readyState)){if(i.config.setPageClass&&!t.documentElement.className.toString().includes("userconsent-cntry-")&&(t.documentElement.className=(t.documentElement.className&&" "!==t.documentElement.className?t.documentElement.className+" userconsent-cntry-":"userconsent-cntry-")+i.geoCountry.toLowerCase()+" userconsent-state-"+i.geoState.toLowerCase()+" userconsent-reg-"+i.config.regId.toLowerCase()+(i.usingGpc?" userconsent-gpc":"")),Ve(),n.isTop()){const s=t.createElement("script");e.WBD.UserConsent_wait=setTimeout(e.OptanonWrapper.bind(e,!0),i.config.oneTrustLoadTimeout),i.consentConfirmed&&(s.async=!0),s.charset="utf-8",i.config.languageFromBrowser&&!i.forceLang||(s.dataset.documentLanguage="true",i.forceLang&&(s.dataset.language=i.pageLang)),s.dataset.domainScript=i.config.domId,s.type="text/javascript",s.onerror=function(e){U=!0,fe(1)},s.onload=function(e){L=!0,m&&ee("debug","OneTrust Stub loaded.")},i.dbg&&n.uclog("debug","Loading OneTrust."),s.src=i.config.src,t.head?t.head.appendChild(s):t.body.appendChild(s)}i.waitingForInteractive&&t.removeEventListener("readystatechange",se,!1)}else m&&ee("debug","Page ready state not yet interactive: ",t.readyState)}.bind(this,e,t,ie,{aceString:i,acString:r,config:l,consentState:S,consentTime:f,consentVersion:E,consentConfirmed:d,dbg:m,forceLang:P,geoCountry:_,geoState:O,gppString:A,pageLang:k,tcString:x,ucFrame:w,usingGpc:H,waitingForInteractive:v});v?t.addEventListener("readystatechange",se,!1):(m&&"complete"===t.readyState&&ee("debug",'Page ready state already "complete", UserConsent invoked late!'),setTimeout(se,1)),m&&Q&&e.__gpp&&e.__gpp("addEventListener",(function(e,t){ee("debug","GPP event: ",e)})),m&&ee("debug","Dispatching UserConsentReady event."),Se("userConsentReady",{region:l.regId,time:new Date,consentConfirmed:d})}return e.WBD.UserConsent_loaded?ee("error","ERROR:  Second instance of UserConsent loaded!"):(e.WBD.UserConsent_loaded=!0,e.WBD.UserConsent_optLoaded=!1,e.WBD.UserConsent_wrapproc=0,e.WBD.UserConsent_wait=-1,e.OptanonWrapper=function(t){if(!V&&!U){e.WBD.UserConsent_optLoaded=!0;let n=function(){V&&(g="function"==typeof e.OneTrust.getDataSubjectId&&e.OneTrust.getDataSubjectId()||g,m&&ee("debug","Dispatching oneTrustLoaded event."),Se("oneTrustLoaded",{region:l.regId,time:new Date,consentConfirmed:d,otId:g,otVers:E}),Se("optanonLoaded",{region:l.regId,time:new Date,consentConfirmed:d,otId:g,otVers:E}),l.useExternalConsent&&!e.OneTrust.IsAlertBoxClosed()&&e.Optanon.Close()),e.OptanonWrapper=function(){}};if(e.WBD.UserConsent_wait>=0&&(clearTimeout(e.WBD.UserConsent_wait),e.WBD.UserConsent_wait=-1),!e.OneTrust||"function"!=typeof e.OneTrust.GetDomainData){const n=L?e.OneTrustStub&&e.OneTrustStub.otSdkStub?t?3:4:2:1;return V=!1,fe(n),void(e.OptanonWrapper=function(){})}V=!0,l.geoPassedToOneTrust&&Ee(),Q?("function"!=typeof e.__gpp&&(e.__gpp=D),e.__gpp("ping",(function(t){if(!t||t.cmpId<=0)Q=!1,N&&(N.setCmpStatus("error"),N.fireErrorEvent("CMP did not initialize GPP for this region.")),m&&ee("debug","OneTrust GPP for this region is broken.  Disabling use of GPP.");else if(1===t.cmpId)K=!1,N?(m&&ee("debug","OneTrust did NOT initialize GPP for this region.  Using GPP from UserConsent."),N.setCmpStatus("loaded"),N.fireEvent("cmpStatus","loaded"),N.setSignalStatus("ready"),N.fireEvent("signalStatus","ready")):(Q=!1,m&&ee("debug","OneTrust did NOT initialize GPP for this region.  UserConsent GPP failed to initialize.  Disabling use of GPP."));else{const n=t.cmpStatus;w=t.cmpId,K=!0,t.gppVersion&&"1.0"===t.gppVersion&&(t=e.__gpp("getGPPData")),t&&t.gppString&&(P=t.gppVersion,t.gppString!==A&&(Te(t.gppString,null),Re())),m&&ee("debug",'OneTrust GPP initialized (status "'+n+'").')}n()}))):n()}},"object"==typeof e.WBD.UserConsentConfig&&null!==e.WBD.UserConsentConfig?Fe(e.WBD.UserConsentConfig):"object"==typeof e.WM.UserConsentConfig&&null!==e.WM.UserConsentConfig&&Fe(e.WM.UserConsentConfig)),{addScript:function(e,n,i,s){if(e&&(e.src||e.text)){const o={cact:"ADD",name:e.name||e.src||e.id||"unnamed inline"},r=i||t.head,a=s||["*"];if(!de(a))return m&&(u.push({ts:new Date,act:"ADD",desc:o.name,res:!1,note:"Not in script region"}),ee("debug","Check for region ["+(a.join(",")||"empty")+'] REJECTS "'+o.name+'", script NOT added')),!1;if(Pe(n,o)){const n=t.createElement("script"),i=Object.keys(e);for(let t=0;t<i.length;t++)n[i[t]]=e[i[t]];return r.appendChild(n),!0}}else ee("error","Invalid or missing options to addScript.");return!1},addScriptElement:function(e,n,i,s){if(e){const o={cact:"ADD",name:e.name||e.src||e.id||"unnamed inline"},r=i||t.head,a=s||["*"];if(!de(a))return m&&(u.push({ts:new Date,act:"ADD",desc:o.name,res:!1,note:"Not in script region"}),ee("debug","Check for region ["+(a.join(",")||"empty")+'] REJECTS "'+o.name+'", script NOT added')),!1;if(Pe(n,o))return r.appendChild(e),!0}else ee("error","Invalid or missing options to addScriptElement.");return!1},forceReconsent:function(){ye()&&(t.cookie=l.consentCookie+"=; Domain="+l.cookieDomain+"; Path=/; Expires=Thu, 01 Jan 2000 00:00:01 GMT;",t.cookie=l.confirmCookie+"=; Domain="+l.cookieDomain+"; Path=/; Expires=Thu, 01 Jan 2000 00:00:01 GMT;",Me({ccpaTCS:"",consentInteractions:p,consentTime:null,consentVersion:E,countryCode:_,region:l.regId,stateCode:O,userConsentVersion:B}),setTimeout(ve,100))},getAceString:function(){return i},getAdChoicesLinkAction:function(){return"function"==typeof l.adChoicesLinkAction?l.adChoicesLinkAction:"string"==typeof l.adChoicesLinkAction&&-1!==l.adChoicesLinkAction.search(/^http/)?function(){e.open(l.adChoicesLinkAction,"_blank")}:null},getAdChoicesLinkTitle:function(){return l.adChoicesLinkTitle},getAffiliatesLinkAction:function(){return"function"==typeof l.affiliatesLinkAction?l.affiliatesLinkAction:"string"==typeof l.affiliatesLinkAction&&-1!==l.affiliatesLinkAction.search(/^http/)?function(){e.open(l.affiliatesLinkAction,"_blank")}:null},getAffiliatesLinkTitle:function(){return l.affiliatesLinkTitle},getCmpString:function(t,n){let i,s,o,a="";if("function"==typeof t)if(n=n||this.getRegion(),l.useIAB){if(Q){if("string"==typeof A&&0!==A.length){m&&ee("debug","getCmpString returning GPP CMP string");try{t(n,1,A,"",null)}catch(e){ee("error","Callback error in call to getCmpString (GPP): ",e)}return}i=e.__gpp,s="ping",o=1,a="GPP"}else if(Y){if("string"==typeof x&&0!==x.length){m&&ee("debug","getCmpString returning GDPR v2 CMP string");try{t(n,2,x,r,null)}catch(e){ee("error","Callback error in call to getCmpString (TCF): ",e)}return}i=e.__tcfapi,s="getTCData",o=2,a="TCF"}if(s)try{let e=function(e,t,n,i,s,o){o?(m&&ee("debug","getCmpString returning "+n+" v"+i+" CMP string"),e(t,i,"GPP"===n?s.pingData.gppString:s.tcString,s.addtlConsent?s.addtlConsent:"",null)):(m&&ee("debug","getCmpString returning "+n+" v"+i+" error"),e(t,i,"","",new Error(n+" CMP request failure")))}.bind(this,t,n,a,o);"GPP"===a?i(s,e):i(s,o,e)}catch(e){ee("error","Error in CMP call for getCmpString ("+iab+"): ",e)}else{m&&ee("debug","getCmpString returning CCPA v1 CMP string");try{t(n,1,$,"",0!==$.length?null:new Error("CMP request failure"))}catch(e){ee("error","Callback error in call to getCmpString (USP): ",e)}}}else{m&&ee("debug","getCmpString called with IAB disabled");try{t(n,0,"","",new Error("IAB disabled"))}catch(e){ee("error","Callback error in call to getCmpString (no IAB): ",e)}}else ee("error","getCmpString called without callback")},getConsentConfirmed:function(){return d},getConsentDefaults:function(){return pe(l.consentDefaults)},getConsentHistory:function(){return u},getConsentState:Oe,getConsentTime:function(){return f},getConsentVersion:function(){return E},getGeoCountry:function(){return _},getGeoState:function(){return O},getGppAPIstring:function(){return A},getGppSection:function(){return Q&&""!==l.gppSection?l.gppSection:"none"},getIABInterface:function(){return Q?"__gpp":q?"__uspapi":Y?"__tcfapi":"none"},getIABRegion:function(){return""!==l.iabRegion?l.iabRegion:"none"},getIABVersion:function(){return Q?"1.1":q?"1.0":Y?"2.2":"none"},getLinkAction:function(){return l.consentLinkAction||e.OneTrust&&e.OneTrust.ToggleInfoDisplay||function(){e.OneTrust&&e.OneTrust.ToggleInfoDisplay&&e.Optanon.ToggleInfoDisplay()}},getLinkTitle:function(){return l.consentLinkTitle},getMarketingConsents:function(){return{brand:l.consentMarketing.brand,email:l.consentMarketing.email,wbd:l.consentMarketing.wbd}},getPrivacyCenterLinkAction:function(){return"function"==typeof l.privacyCenterLinkAction?l.privacyCenterLinkAction:"string"==typeof l.privacyCenterLinkAction&&-1!==l.privacyCenterLinkAction.search(/^http/)?function(){e.open(l.privacyCenterLinkAction,"_blank")}:null},getPrivacyCenterLinkTitle:function(){return l.privacyCenterLinkTitle},getRegion:function(){return l.regId},getReloadOnChange:function(){return l.reloadOnConsentChange},getReloadOnConsentReduction:function(){return l.reloadOnConsentReduction},getRightsRequestLinkAction:function(){return"function"==typeof l.rightsRequestLinkAction?l.rightsRequestLinkAction:"string"==typeof l.rightsRequestLinkAction&&-1!==l.rightsRequestLinkAction.search(/^http/)?function(){e.open(l.rightsRequestLinkAction,"_blank")}:null},getRightsRequestLinkTitle:function(){return l.rightsRequestLinkTitle},getSimpleConsentState:function(){let e={};for(let t in S)"boolean"==typeof S[t]&&(e[t]=S[t]);return e},getTcfAPIaddtlString:function(){return r},getTcfAPIstring:function(){return x},getUserConsentAdvertisingState:function(e){const t={name:"Ads Check",checkIAB:"string"==typeof e?e:""};return Pe(l.adCategories,t)},getUserConsentContextAdsState:function(e){const t={name:"Context Ads Check",checkIAB:"string"==typeof e?e:""};return Pe(l.contextAdCategories,t)},getUspAPIstring:function(){return $},getVersion:function(){return B},init:Fe,inUserConsentState:Pe,isChild:be,isTop:ye,isEnabled:function(){return!0},isGpcInUse:function(){return H},isGpcSet:function(){return!!navigator.globalPrivacyControl},isInCcpaRegion:Ne,isInGdprRegion:function(){return Y},isInGppRegion:function(){return Q},isInIabRegion:function(e){return e="string"==typeof e?e:"",l.iabRegion===e},isInTcfRegion:function(){return J},isInRegion:function(e){return l.regId===e},isOneTrustBlocked:function(){return v},isOneTrustFailing:function(){return U},isOneTrustLoaded:we,isOptanonLoaded:we,isReady:Ae,isSiteIABCompliant:function(){return l.strictIabCompliance},setMarketingConsents:function(e){let t=!1;"object"==typeof e&&null!==e&&("boolean"==typeof e.brand&&e.brand!==l.consentMarketing.brand&&(l.consentMarketing.brand=e.brand,t=!0),"boolean"==typeof e.email&&e.email!==l.consentMarketing.email&&(l.consentMarketing.email=e.email,t=!0),"boolean"==typeof e.wbd&&e.wbd!==l.consentMarketing.wbd&&(l.consentMarketing.wbd=e.wbd,t=!0),t&&Re())},usingCompatConsent:function(){return W},usingExternalConsent:function(){return l.useExternalConsent},usingGPP:function(){return Q},usingIAB:function(){return l.useIAB&&(Q||q||Y)},usingPSM:function(){return!1}}}(window,document),window.WM.UserConsent=window.WBD.UserConsent}();